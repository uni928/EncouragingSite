
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>åŠ±ã¾ã—ãƒ«ãƒ¼ãƒ—ï½œéŸ³å£°èª­ã¿ä¸Šã’ï¼†ãƒ«ãƒ¼ãƒ—ï½œIndexedDBè‡ªå‹•ä¿å­˜</title>
  <meta name="description" content="åŠ±ã¾ã™ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’ã²ãŸã™ã‚‰å‚ã‚Œæµã™ã‚µã‚¤ãƒˆã€‚éŸ³å£°èª­ã¿ä¸Šã’ï¼ˆWeb Speech APIï¼‰ãƒ»ãƒ«ãƒ¼ãƒ—å†ç”Ÿã€‚è¨­å®šã‚„é€²æ—ã¯IndexedDBã¸ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¿å­˜ã—ã€å†èµ·å‹•æ™‚ã«å¾©å…ƒã—ã¾ã™ã€‚" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-grad: radial-gradient(1200px 600px at 80% -10%, #93c5fd33, transparent 50%),
                  radial-gradient(900px 500px at 0% 100%, #a78bfa33, transparent 50%),
                  linear-gradient(135deg,#0b1020,#0f172a 60%, #0b1020);
      --glass: rgba(255,255,255,0.1);
      --glass-2: rgba(255,255,255,0.07);
      --text: #e6e6f0;
      --muted: #a7b0c0;
      --accent: #60a5fa;
      --accent-2:#a78bfa;
      --ok:#34d399; --warn:#f59e0b; --danger:#f87171;
      --shadow: 0 10px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg-grad); color:var(--text);
      font-family:"Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      letter-spacing:.01em;
    }
    .wrap{min-height:100%; display:grid; place-items:center; padding:24px}
    .card{
      width:min(1100px, 94vw); max-height: 92vh; overflow: hidden; position:relative;
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.15); border-radius:28px; box-shadow:var(--shadow);
      backdrop-filter: blur(16px) saturate(120%);
    }
    .hero{
      padding: 28px 28px 18px; display:flex; gap:16px; align-items:center; justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .brand{display:flex; align-items:center; gap:14px}
    .logo{
      width:44px; height:44px; border-radius:14px; background:linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 10px 24px rgba(96,165,250,.35);
      display:grid; place-items:center;
      font: 800 18px Outfit, system-ui; color:#0b1020;
    }
    .title{line-height:1.1}
    .title h1{margin:0; font:800 22px/1.1 Outfit, system-ui}
    .title p{margin:0; color:var(--muted); font:400 12px/1.4 Outfit, system-ui}
    .hero .right{display:flex; gap:10px; align-items:center}
    .pill{padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.15); background:var(--glass-2); color:var(--muted); font:600 12px Outfit}

    .main{display:grid; grid-template-columns: 1.3fr .9fr; gap:16px; padding: 16px; align-items:stretch}
    @media (max-width: 2980px){ .main{grid-template-columns:1fr; height:auto;}}

    .viewer{
      background:var(--glass); border:1px solid rgba(255,255,255,.1); border-radius:22px; padding:22px; display:flex; flex-direction:column; gap:16px; min-height: 48vh;
    }
    .phrase{
      flex:1; display:grid; place-items:center; text-align:center; padding: 12px; border-radius:18px; position:relative;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px dashed rgba(255,255,255,.12);
    }
    .phrase .text{font-family:"Outfit","Noto Sans JP"; font-weight:700; letter-spacing:.02em; line-height:1.25; font-size: clamp(28px, 4.6vw, 56px)}
    .fade{animation: fadeIn .5s ease both}
    @keyframes fadeIn{from{opacity:0; transform: translateY(8px)} to{opacity:1; transform:none}}

    .controls{display:flex; align-items:center; justify-content:center; gap:14px; flex-wrap:wrap}
    button, .btn{
      appearance:none; border:0; background: linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.08));
      color:var(--text); border:1px solid rgba(255,255,255,.18); border-radius:14px; padding:12px 16px; font:600 14px Outfit;
      box-shadow:var(--shadow); cursor:pointer; transition: transform .06s ease, background .2s ease;
    }
    button:hover{transform: translateY(-1px)}
    .btn-ghost{background:rgba(255,255,255,.06)}
    .toggle[aria-pressed="true"]{outline:2px solid var(--accent);}

    .meters{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
    .meter{background:var(--glass-2); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:12px}
    .meter label{display:flex; justify-content:space-between; font:600 12px Outfit; color:var(--muted); margin-bottom:8px}
    input[type="range"]{width:100%}

    .sidebar{
      background:var(--glass); border:1px solid rgba(255,255,255,.1); border-radius:22px; padding:18px; display:flex; flex-direction:column; gap:14px; min-height:48vh;
    }
    .field{display:flex; flex-direction:column; gap:8px}
    .field label{font:600 12px Outfit; color:var(--muted)}
    select, textarea, input[type="text"]{
      width:100%; background:rgba(255,255,255,.06); color:var(--text); border:1px solid rgba(255,255,255,.16); border-radius:12px; padding:10px 12px; font:500 14px/1.5 "Noto Sans JP";
    }
    textarea{min-height:120px; resize:vertical}

    .list{flex:1; overflow:auto; border-radius:14px; border:1px solid rgba(255,255,255,.1)}
    .list table{width:100%; border-collapse:collapse; font:500 13px/1.4 "Noto Sans JP"}
    .list th, .list td{padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.08)}
    .list tr.active{background:rgba(96,165,250,.12)}
    .tools{display:flex; gap:8px; flex-wrap:wrap}

    .footer{padding:16px 22px; color:var(--muted); border-top:1px solid rgba(255,255,255,.08); font:500 12px Outfit; display:flex; justify-content:space-between; align-items:center}
    .badge{padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.05)}
    .start-overlay{position:absolute; inset:0; display:grid; place-items:center; background:linear-gradient(180deg, rgba(11,16,32,.7), rgba(11,16,32,.8)); backdrop-filter: blur(3px)}
    .start-overlay .panel{background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06)); padding:22px; border-radius:18px; border:1px solid rgba(255,255,255,.18); text-align:center}
    .start-overlay .panel h2{margin:0 0 8px; font:800 20px Outfit}
    .start-overlay .panel p{margin:0 0 14px; color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">
      <div class="hero">
        <div class="brand">
          <div class="logo">åŠ±</div>
          <div class="title">
            <h1>åŠ±ã¾ã—ãƒ«ãƒ¼ãƒ— <span style="opacity:.6;font-weight:400">/ Pep Stream</span></h1>
            <p>éŸ³å£°èª­ã¿ä¸Šã’ï¼†ãƒ«ãƒ¼ãƒ—ã€‚è¨­å®šãƒ»é€²æ—ã¯IndexedDBã¸è‡ªå‹•ä¿å­˜ã€‚</p>
          </div>
        </div>
        <div class="right">
          <span class="pill" id="save-indicator">ä¿å­˜æ¸ˆã¿</span>
          <span class="pill" id="status-pill">å¾…æ©Ÿä¸­</span>
        </div>
      </div>

      <div class="main">
        <section class="viewer">
          <div class="phrase">
            <div class="text fade" id="phrase-text">èª­ã¿ä¸Šã’æº–å‚™ä¸­â€¦</div>
          </div>
          <div class="controls">
            <button id="btn-start" class="btn">â–¶ï¸ å†ç”Ÿ</button>
            <button id="btn-pause" class="btn btn-ghost">â¸ ä¸€æ™‚åœæ­¢</button>
            <button id="btn-prev" class="btn btn-ghost">âŸ² å‰ã¸</button>
            <button id="btn-next" class="btn btn-ghost">âŸ¶ æ¬¡ã¸</button>
            <button id="btn-shuffle" class="btn toggle btn-ghost" aria-pressed="false">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
            <button id="btn-loop" class="btn toggle" aria-pressed="true">ğŸ” ãƒ«ãƒ¼ãƒ—</button>
          </div>
          <div class="meters">
            <div class="meter">
              <label><span>èª­ã¿ä¸Šã’é€Ÿåº¦</span><span><span id="rate-val">2.0</span>x</span></label>
              <input id="rate" type="range" min="0.5" max="4" step="0.05" value="2">
            </div>
            <div class="meter">
              <label><span>ãƒ”ãƒƒãƒ</span><span id="pitch-val">1.0</span></label>
              <input id="pitch" type="range" min="0" max="2" step="0.05" value="1">
            </div>
            <div class="meter">
              <label><span>éŸ³é‡</span><span id="vol-val">1.0</span></label>
              <input id="volume" type="range" min="0" max="1" step="0.01" value="1">
            </div>
          </div>
        </section>

        <aside class="sidebar">
          <div class="field">
            <label for="voice">ãƒœã‚¤ã‚¹ï¼ˆç«¯æœ«ä¾å­˜ï¼‰</label>
            <select id="voice"></select>
          </div>

          <div class="field">
            <label for="new-phrases">ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’è¿½åŠ ï¼ˆ1è¡Œï¼1ä»¶ï¼‰</label>
            <textarea id="new-phrases" placeholder="ä¾‹ï¼‰\nç„¦ã‚‰ãªãã¦ã„ã„ã€‚\nã„ã¾ã®ä¸€æ­©ãŒã™ã¹ã¦ã‚’å¤‰ãˆã‚‹ã€‚\nã‚ãªãŸã¯ååˆ†ã‚„ã‚Œã¦ã„ã‚‹ã€‚"></textarea>
            <div class="tools">
              <button id="btn-add" class="btn">ï¼‹ è¿½åŠ </button>
              <button id="btn-reset" class="btn btn-ghost">â†º æ—¢å®šãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å†æŠ•å…¥</button>
              <button id="btn-delete" class="btn btn-ghost" title="ç¾åœ¨ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å‰Šé™¤">ğŸ—‘ ç¾åœ¨ã‚’å‰Šé™¤</button>
              <button id="btn-export" class="btn btn-ghost">â¬‡ï¸ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
              <input id="import-file" type="file" accept="application/json" hidden>
              <button id="btn-import" class="btn btn-ghost">â¬†ï¸ ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
            </div>
          </div>

          <div class="list" id="list">
            <table>
              <thead>
                <tr><th style="width:48px">#</th><th>ãƒ•ãƒ¬ãƒ¼ã‚º</th></tr>
              </thead>
              <tbody id="tbody"></tbody>
            </table>
          </div>
        </aside>
      </div>

      <div class="footer">
        <div>
          <span class="badge">ãƒ•ãƒ¬ãƒ¼ã‚º: <span id="count">0</span> ä»¶</span>
          <span class="badge">ä½ç½®: <span id="pos">-</span></span>
        </div>
        <div>
          <span class="badge">Web Speech API / IndexedDB</span>
        </div>
      </div>

      <div class="start-overlay" id="gate" hidden>
        <div class="panel">
          <h2>ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§é–‹å§‹</h2>
          <p>ãƒ–ãƒ©ã‚¦ã‚¶ã®åˆ¶é™ã«ã‚ˆã‚Šã€éŸ³å£°å†ç”Ÿã«ã¯æ“ä½œãŒå¿…è¦ã§ã™ã€‚</p>
          <button id="btn-gate" class="btn">â–¶ï¸ ã¯ã˜ã‚ã‚‹</button>
        </div>
      </div>
    </div>
  </div>

<script>
// ===== Utility: IndexedDB minimal helper =====
const DB_NAME = 'pep_talk_db';
const DB_VER = 1;
const STORES = { state: 'state', phrases: 'phrases' };

function openDB(){
  return new Promise((resolve, reject)=>{
    const req = indexedDB.open(DB_NAME, DB_VER);
    req.onupgradeneeded = () => {
      const db = req.result;
      if(!db.objectStoreNames.contains(STORES.state)){
        db.createObjectStore(STORES.state, { keyPath: 'key' });
      }
      if(!db.objectStoreNames.contains(STORES.phrases)){
        db.createObjectStore(STORES.phrases, { keyPath: 'id', autoIncrement: true });
      }
    };
    req.onsuccess = () => resolve(req.result);
    req.onerror = () => reject(req.error);
  });
}
function tx(db, store, mode='readonly'){ return db.transaction(store, mode).objectStore(store); }
function saveState(db, key, value){
  return new Promise((resolve,reject)=>{
    const store = tx(db, STORES.state, 'readwrite');
    const req = store.put({ key, value, updatedAt: Date.now() });
    req.onsuccess = ()=> resolve();
    req.onerror = ()=> reject(req.error);
  });
}
function getState(db, key){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.state).get(key);
    req.onsuccess = ()=> resolve(req.result?.value);
    req.onerror = ()=> reject(req.error);
  });
}
function addPhrase(db, text){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases, 'readwrite').add({ text: text.trim() });
    req.onsuccess = ()=> resolve(req.result);
    req.onerror = ()=> reject(req.error);
  });
}
function deletePhrase(db, id){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases, 'readwrite').delete(id);
    req.onsuccess = ()=> resolve();
    req.onerror = ()=> reject(req.error);
  });
}
function getAllPhrases(db){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases).getAll();
    req.onsuccess = ()=> resolve(req.result || []);
    req.onerror = ()=> reject(req.error);
  });
}
function clearPhrases(db){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases,'readwrite').clear();
    req.onsuccess = ()=> resolve();
    req.onerror = ()=> reject(req.error);
  });
}

// ===== Default phrases (å¤šã‚) =====
const DEFAULTS = [
    "ä»Šæ—¥ã‚‚ã‚ˆãé ‘å¼µã£ãŸã­ã€‚",
  "ãã‚Œã€ã¡ã‚ƒã‚“ã¨ã§ãã¦ã‚‹ã‚ˆã€‚ã™ã”ã„ã€‚",
  "æ°—ã¥ã„ãŸæ™‚ç‚¹ã§å‰ã„ã‚ˆã€‚",
  "å°ã•ãªã“ã¨ã§ã‚‚ç¶šã‘ã¦ã‚‹ã®ã€æœ¬å½“ã«ã™ã”ã„ã€‚",
  "ã¡ã‚ƒã‚“ã¨è€ƒãˆã¦å‹•ã‘ã¦ã‚‹ã­ã€‚",
  "è‡ªåˆ†ã‚’æ•´ãˆã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã€ãã®å§¿å‹¢ãŒç´ æ•µã€‚",
  "ã‚ˆãè¸ã‚“å¼µã£ãŸã­ã€‚ã»ã‚“ã¨ã«ãˆã‚‰ã„ã€‚",
  "ã‚ãªãŸã®åŠªåŠ›ã¯ç¢ºå®Ÿã«ç©ã¿ä¸ŠãŒã£ã¦ã‚‹ã€‚",
  "ãã®é¸æŠã€é–“é•ã£ã¦ãªã„ã‚ˆã€‚",
  "ä»Šæ—¥ã‚’ä¹—ã‚Šåˆ‡ã£ãŸã ã‘ã§ååˆ†å‰ã„ã€‚",
  "ä¸å¯§ã«ã‚„ã£ã¦ã‚‹ã®ã€ã¡ã‚ƒã‚“ã¨ä¼ã‚ã£ã¦ã‚‹ã‚ˆã€‚",
  "ç„¦ã‚‰ãšå–ã‚Šçµ„ã‚“ã§ã‚‹ã®ãŒç´ æ™´ã‚‰ã—ã„ã€‚",
  "ã‚ˆãã“ã“ã¾ã§ã‚„ã£ãŸã­ã€‚ç«‹æ´¾ã ã‚ˆã€‚",
  "ç„¡ç†ã›ãšç¶šã‘ã¦ã‚‹ã®ã€è³¢ã„é¸æŠã ã­ã€‚",
  "ã‚ã®æ™‚ã‚ˆã‚Šç¢ºå®Ÿã«æˆé•·ã—ã¦ã‚‹ã‚ˆã€‚",
  "æ€ã„ã‚„ã‚Šã®ã‚ã‚‹è¡Œå‹•ãŒã§ãã¦ã‚‹ã­ã€‚",
  "å°‘ã—ã§ã‚‚å‰ã«é€²ã‚“ã§ã‚‹ã€ãã‚Œã ã‘ã§ç«‹æ´¾ã€‚",
  "ã“ã‚“ãªã«è€ƒãˆã¦å‹•ã‘ã‚‹ãªã‚“ã¦ã™ã”ã„ã‚ˆã€‚",
  "åŠªåŠ›ã‚’è¦‹é€ƒã—ã¦ãªã„ã‚ˆã€‚ã¡ã‚ƒã‚“ã¨è¦‹ãˆã¦ã‚‹ã€‚",
  "äººã®æ°—æŒã¡ã‚’è€ƒãˆã‚‰ã‚Œã‚‹ã‚ãªãŸã€ç´ æ•µã ã‚ˆã€‚",
  "ã¤ã‚‰ã„ä¸­ã§ã‚‚æŠ•ã’å‡ºã•ãªã‹ã£ãŸã€ãã‚ŒãŒå‰ã„ã€‚",
  "èª å®Ÿã«å‘ãåˆã†ã‚ãªãŸã¯ä¿¡é ¼ã§ãã‚‹äººã ã­ã€‚",
  "ã¡ã‚ƒã‚“ã¨è‡ªåˆ†ã‚’å¾‹ã—ã¦ã‚‹ã®ãŒã™ã”ã„ã€‚",
  "å°‘ã—ãšã¤ã§ã‚‚ç©ã¿é‡ã­ã¦ã‚‹ã€ãã‚Œã ã‘ã§å°Šã„ã€‚",
  "å„ªã—ã„è¨€è‘‰ã‚’é¸ã¹ã‚‹ã‚ãªãŸã€ã»ã‚“ã¨ã«ç´ æ•µã€‚",
  "é›£ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã—ã¦ã‚‹æ™‚ç‚¹ã§å‰ã„ã€‚",
  "ãã¡ã‚“ã¨è€ƒãˆã¦ç­”ãˆã‚’å‡ºãã†ã¨ã—ã¦ã‚‹ã®ãŒãˆã‚‰ã„ã€‚",
  "æ„Ÿæƒ…ã‚’æ•´ç†ã—ã‚ˆã†ã¨ã—ã¦ã‚‹ã€ãã‚Œã‚‚ç«‹æ´¾ãªåŠªåŠ›ã€‚",
  "äººã«å„ªã—ãã§ãã‚‹æ™‚ç‚¹ã§ã€ã‚ãªãŸã¯ã™ã”ã„ã€‚",
  "ã‚³ãƒ„ã‚³ãƒ„ç¶šã‘ã‚‹åŠ›ãŒã‚ã‚‹ã£ã¦ã€è²´é‡ã ã‚ˆã€‚",
  "ã‚ãªãŸã®é ‘å¼µã‚Šæ–¹ã¯ã¨ã¦ã‚‚ç¾ã—ã„ã€‚",
  "é ‘å¼µã‚Šã™ããªã„å·¥å¤«ãŒã§ãã‚‹ã®ã‚‚æˆé•·ã ã­ã€‚",
  "å°ã•ãªæˆåŠŸã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ã‚ãªãŸã¯ç´ æ•µã ã‚ˆã€‚",
  "å†·é™ã«è€ƒãˆã‚‰ã‚Œã‚‹åŠ›ã€ã¡ã‚ƒã‚“ã¨èº«ã«ã¤ã„ã¦ã‚‹ã­ã€‚",
  "ãã®æ°—ã¥ããŒã‚ã‚‹ã ã‘ã§ä¸€æ­©å‰é€²ã ã‚ˆã€‚",
  "ã¡ã‚ƒã‚“ã¨æ‚©ã‚“ã§ã‚‹ã€‚ãã‚Œã ã‘çœŸå‰£ãªã‚“ã ã­ã€‚",
  "æ€ã„é€šã‚Šã«ã„ã‹ãªãã¦ã‚‚ã€åŠªåŠ›ã—ã¦ã‚‹å§¿ãŒç«‹æ´¾ã€‚",
  "è‡ªåˆ†ã®å¼±ã•ã‚’èªã‚ã‚‰ã‚Œã‚‹ã®ã¯ã€å¼·ã•ã®è¨¼æ‹ ã ã‚ˆã€‚",
  "èª°ã‹ã‚’æ€ã£ã¦è¡Œå‹•ã§ãã‚‹ã‚ãªãŸã¯å„ªã—ã„äººã ã­ã€‚",
  "ç„¡ç†ã›ãšã«ç¶šã‘ã‚‹å§¿å‹¢ã€ã‹ã£ã“ã„ã„ã‚ˆã€‚",
  "åœ°å‘³ãªåŠªåŠ›ã‚’ç¶šã‘ã¦ã‚‹äººãŒä¸€ç•ªã™ã”ã„ã‚“ã ã‚ˆã€‚",
  "ãã®åˆ¤æ–­ã€ã™ã”ãçš„ç¢ºã ã£ãŸã‚ˆã€‚",
  "è½ã¡ç€ã„ã¦å¯¾å‡¦ã§ããŸã­ã€‚ç«‹æ´¾ã ã‚ˆã€‚",
  "é ‘å¼µã£ãŸåˆ†ã ã‘ã€ã¡ã‚ƒã‚“ã¨åŠ›ã«ãªã£ã¦ã‚‹ã‚ˆã€‚",
  "æ°—ã¥ã„ã¦è¡Œå‹•ã«ç§»ã™ã¾ã§ãŒæ—©ã„ã­ã€‚ã™ã”ã„ï¼",
  "è‡ªåˆ†ã‚’è²¬ã‚ãšã«å—ã‘å…¥ã‚Œã‚ˆã†ã¨ã—ã¦ã‚‹ã€ãã‚Œã ã‘ã§å‰ã„ã€‚",
  "å›°é›£ã‚’ä¹—ã‚Šè¶Šãˆã‚ˆã†ã¨ã—ã¦ã‚‹å§¿ãŒæœ¬å½“ã«ç´ æ•µã€‚",
  "ä¸å¯§ã«è©±ã‚’èã‘ã‚‹ã‚ãªãŸã¯è²´é‡ãªå­˜åœ¨ã ã‚ˆã€‚",
  "ç¶šã‘ã¦ã‚‹ã“ã¨ã€ãã‚Œè‡ªä½“ãŒæ‰èƒ½ã ã‚ˆã€‚",
  "æ€ã„ã‚„ã‚Šã‚’å¿˜ã‚Œãªã„ã®ãŒã‚ãªãŸã‚‰ã—ã„ã­ã€‚",
  "ã‚ã®æ™‚ã¡ã‚ƒã‚“ã¨ä¼‘ã‚“ã åˆ¤æ–­ã€æ­£è§£ã ã£ãŸã­ã€‚",
  "å°ã•ãªå¤‰åŒ–ã‚’è¦‹é€ƒã•ãªã„æ„Ÿæ€§ãŒç´ æ™´ã‚‰ã—ã„ã€‚",
  "äººã®è‰¯ã„ã¨ã“ã‚ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹äººã£ã¦è²´é‡ã ã‚ˆã€‚",
  "ãã®ç¬‘é¡”ã€å‘¨ã‚Šã‚’æ˜ã‚‹ãã—ã¦ã‚‹ã‚ˆã€‚",
  "åŠªåŠ›ã‚’è¨€è‘‰ã«ã—ãªã„ã¨ã“ã‚ãŒã¾ãŸç´ æ•µã ã­ã€‚",
  "è¿·ã„ãªãŒã‚‰ã‚‚å‹•ã‘ã‚‹ã€ãã‚ŒãŒæœ¬å½“ã®å¼·ã•ã ã‚ˆã€‚",
  "å°‘ã—ãšã¤è‰¯ãã—ã‚ˆã†ã¨ã—ã¦ã‚‹å§¿å‹¢ãŒã™ã”ã„ã€‚",
  "å¤±æ•—ã‚’ç³§ã«ã§ãã‚‹ã‚ãªãŸã¯å¼·ã„äººã ã‚ˆã€‚",
  "è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã—ã‚ˆã†ã¨ã—ã¦ã‚‹ã€ãã‚ŒãŒä¸€ç•ªãˆã‚‰ã„ã€‚",
  "æ™‚é–“ã‚’å®ˆã‚Œã‚‹ã£ã¦ã€ãã‚Œã ã‘ã§ä¿¡é ¼ã§ãã‚‹ã­ã€‚",
  "ç„¦ã‚‰ãšä¸å¯§ã«ã§ãã¦ã‚‹ã®ãŒæœ¬å½“ã«ã™ã”ã„ã€‚",
  "èª°ã‹ã®ãŸã‚ã«æ™‚é–“ã‚’ä½¿ãˆã‚‹ã£ã¦ç´ æ•µã ã‚ˆã€‚",
  "é ‘å¼µã‚‹ã ã‘ã˜ã‚ƒãªãã€ä¼‘ã‚€å‹‡æ°—ã‚‚ã‚ã‚‹ã­ã€‚",
  "è‹¦ã—ã„æ™‚ã‚‚è«¦ã‚ãªã‹ã£ãŸã‚ãªãŸã‚’å°Šæ•¬ã™ã‚‹ã€‚",
  "å¤‰ã‚ã‚ã†ã¨ã—ã¦ã„ã‚‹ã“ã¨è‡ªä½“ãŒå‰ã„ã€‚",
  "ã¡ã‚ƒã‚“ã¨æ•´ç†ã—ã¦è€ƒãˆã¦ã‚‹ã®ãŒç´ æ™´ã‚‰ã—ã„ã€‚",
  "ãã®ã‚„ã‚Šæ–¹ã€ã™ã”ãã‚¹ãƒãƒ¼ãƒˆã ã£ãŸã­ã€‚",
  "äººã®è¨€è‘‰ã‚’å¤§åˆ‡ã«ã§ãã‚‹ã£ã¦ç´ æ•µã ã‚ˆã€‚",
  "éå»ã‚ˆã‚Šã‚‚ä»Šã‚’å¤§åˆ‡ã«ã—ã¦ã‚‹ã€ãã‚ŒãŒæˆé•·ã ã­ã€‚",
  "å‘¨ã‚Šã‚’æ°—ã¥ã‹ãˆã‚‹å„ªã—ã•ã€å°Šæ•¬ã™ã‚‹ã‚ˆã€‚",
  "å·¥å¤«ã—ã¦ç¶šã‘ã‚‹åŠ›ãŒã‚ã‚‹ã®ã¯ã™ã”ã„ã“ã¨ã ã‚ˆã€‚",
  "å¿ƒã®æ•´ç†ã‚’ã¤ã‘ã‚ˆã†ã¨ã—ã¦ã‚‹ã€ãã‚ŒãŒç«‹æ´¾ãªã‚“ã ã‚ˆã€‚",
  "è½ã¡ç€ã„ãŸå¯¾å¿œã€ã‹ã£ã“ã‚ˆã‹ã£ãŸã‚ˆã€‚",
  "ã‚„ã‚‹ã¹ãã“ã¨ã‚’ã‚„ã‚Šé‚ã’ãŸã­ã€‚ãŠç–²ã‚Œã•ã¾ï¼",
  "å°ã•ãªã“ã¨ã«æ„Ÿè¬ã§ãã‚‹ã‚ãªãŸã¯ç´ æ•µã€‚",
  "ãã®æ…é‡ã•ãŒã€çµæœã«ã¤ãªãŒã£ã¦ã‚‹ã­ã€‚",
  "ã¡ã‚ƒã‚“ã¨è€ƒãˆã¦è¨€è‘‰ã‚’é¸ã‚“ã§ã‚‹ã®ãŒä¼ã‚ã‚‹ã‚ˆã€‚",
  "ã‚ãªãŸã®å­˜åœ¨ãŒã€èª°ã‹ã®å®‰å¿ƒã«ãªã£ã¦ã‚‹ã‚ˆã€‚",
  "ä¸å™¨ç”¨ã§ã‚‚èª å®Ÿã€ãã‚ŒãŒä¸€ç•ªç´ æ•µãªã“ã¨ã ã‚ˆã€‚",
  "ä¸å¯§ãªå§¿å‹¢ãŒã€ä¿¡é ¼ã‚’ç”Ÿã‚“ã§ã‚‹ã­ã€‚",
  "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å®ˆã‚Œã¦ã‚‹ã®ãŒç«‹æ´¾ã ã‚ˆã€‚",
  "æ°—é…ã‚ŠãŒè‡ªç„¶ã«ã§ãã‚‹ã£ã¦ã€ç´ æ™´ã‚‰ã—ã„ã­ã€‚",
  "ã‚ãã‚‰ã‚ãªã„å§¿å‹¢ãŒã€ä½•ã‚ˆã‚Šã‚‚ã‹ã£ã“ã„ã„ã€‚",
  "ã‚ãªãŸãŒã„ã‚‹ã ã‘ã§ã€å ´ãŒæŸ”ã‚‰ã‹ããªã‚‹ã‚ˆã€‚",
  "ä»Šæ—¥ã‚‚ã¡ã‚ƒã‚“ã¨ç”Ÿãã¦ã‚‹ã€ãã‚ŒãŒã™ã”ã„ã“ã¨ãªã‚“ã ã‚ˆã€‚",
  "äººã‚’ç¬‘é¡”ã«ã§ãã‚‹ã£ã¦æœ€é«˜ã®æ‰èƒ½ã ã‚ˆã€‚",
  "ä¸€ç”Ÿæ‡¸å‘½ã•ãŒã€ã¡ã‚ƒã‚“ã¨ä¼ã‚ã£ã¦ã‚‹ã‚ˆã€‚",
  "çœŸå‰£ã«å‘ãåˆã†å§¿å‹¢ãŒç´ æ•µã ã­ã€‚",
  "å¿ƒã®å¥¥ã«å„ªã—ã•ãŒã‚ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã‚ˆã€‚",
  "æ€ã£ãŸä»¥ä¸Šã«ã€ã‚ãªãŸã¯é ‘å¼µã£ã¦ã‚‹ã‚ˆã€‚",
  "æŒ‘æˆ¦ã§ãã‚‹ã‚ãªãŸã‚’å°Šæ•¬ã™ã‚‹ã€‚",
  "é™ã‹ã«åŠªåŠ›ã™ã‚‹å§¿ã€ã‹ã£ã“ã„ã„ã‚ˆã€‚",
  "ç´ ç›´ã«å­¦ã¼ã†ã¨ã™ã‚‹å§¿å‹¢ãŒç´ æ•µã ã­ã€‚",
  "ç¶šã‘ã‚‹è¦šæ‚ŸãŒã‚ã‚‹ã€ãã‚ŒãŒæœ¬ç‰©ã®å¼·ã•ã ã‚ˆã€‚",
  "è‡ªåˆ†ã®å¼±ã•ã‚’èªã‚ãŸã‚ãªãŸã¯ã€ã‚‚ã†å¼·ã„äººã ã‚ˆã€‚",
  "äººã®ç«‹å ´ã«ç«‹ã£ã¦è€ƒãˆã‚‰ã‚Œã‚‹ã‚ãªãŸã€å°Šæ•¬ã—ã¾ã™ã€‚",
  "ã™ãã«å‹•ã‘ã‚‹ãã®è¡Œå‹•åŠ›ãŒã™ã”ã„ï¼",
  "ç¬‘é¡”ã‚’å¿˜ã‚Œãªã„ã®ãŒæœ¬å½“ã«ç´ æ•µã€‚",
  "ã‚ãªãŸã®çœŸé¢ç›®ã•ãŒã€å‘¨ã‚Šã‚’æ”¯ãˆã¦ã‚‹ã­ã€‚",
  "ä¸å¯§ã«ç”Ÿãã‚ˆã†ã¨ã—ã¦ã‚‹ã®ãŒä¼ã‚ã£ã¦ãã‚‹ã‚ˆã€‚",
  "è¨€è‘‰é¸ã³ãŒå„ªã—ãã¦ã€ã‚ãŸãŸã‹ã„ã­ã€‚",
  "åŠªåŠ›ã‚’ç¶šã‘ã‚‹å§¿ã«ã€å¿ƒã‹ã‚‰æ‹æ‰‹ã—ãŸã„ã€‚",
  "æ„Ÿæƒ…ã‚’æŠ‘ãˆãšã«æ­£ç›´ã§ã„ã‚‹ã®ã€ã™ã”ãè‰¯ã„ã“ã¨ã ã‚ˆã€‚",
  "ä¸€æ—¥ã‚’ä¸å¯§ã«çµ‚ãˆã‚‹ã‚ãªãŸã¯ç«‹æ´¾ã ã‚ˆã€‚",
  "å›°ã£ã¦ã‚‹äººã‚’æ”¾ã£ã¦ãŠã‘ãªã„ã€ãã®å„ªã—ã•ãŒç´ æ•µã€‚",
  "æ…é‡ã§ã„ã‚‹ã“ã¨ã‚‚ã€å¤§åˆ‡ãªæ‰èƒ½ã ã‚ˆã€‚",
  "ä»Šæ—¥ã‚‚ã‚ãªãŸã‚‰ã—ãéã”ã›ã¦ã‚‹ã€ãã‚ŒãŒä½•ã‚ˆã‚Šã™ã”ã„ã€‚",
  "ã‚ã®æ™‚ã®åˆ¤æ–­ã€è½ã¡ç€ã„ã¦ã¦ã™ã”ãè‰¯ã‹ã£ãŸã­ã€‚",
  "å°‘ã—ãšã¤çµæœãŒå‡ºã¦ãã¦ã‚‹ã­ã€ãˆã‚‰ã„ï¼",
  "å°ã•ãªå¹¸ã›ã‚’å¤§åˆ‡ã«ã§ãã‚‹ã‚ãªãŸãŒå¥½ãã ã‚ˆã€‚",
  "è¨€è‘‰ã«ã—ãªãã¦ã‚‚ä¼ã‚ã£ã¦ã‚‹ã‚ˆã€‚é ‘å¼µã£ã¦ã‚‹ã­ã€‚",
  "ã©ã‚“ãªæ™‚ã‚‚èª å®Ÿã«å‘ãåˆã†ã‚ãªãŸã‚’å°Šæ•¬ã™ã‚‹ã€‚",
  "å®Œç’§ã˜ã‚ƒãªãã¦ã‚‚ã€ã‚ãªãŸã¯ååˆ†ç´ æ•µã ã‚ˆã€‚",
  "ç„¦ã‚‰ãšã«ã‚„ã‚Šåˆ‡ã£ãŸãã®å§¿ã€ç«‹æ´¾ã ã£ãŸã‚ˆã€‚",
  "è«¦ã‚ãªã„å§¿å‹¢ã€ã„ã¤ã‚‚æœ¬å½“ã«ã™ã”ã„ã¨æ€ã†ã€‚",
  "è½ã¡ç€ã„ãŸç©ºæ°—ã‚’ä½œã‚Œã‚‹ã®ã€ã‚ãªãŸã®é­…åŠ›ã ã­ã€‚",
  "ä»Šæ—¥ã‚‚ã¡ã‚ƒã‚“ã¨å„ªã—ãã§ããŸã­ã€‚ãˆã‚‰ã„ï¼",
  "ã‚ãªãŸã®åŠªåŠ›ãŒã€ç¢ºå®Ÿã«æœªæ¥ã‚’ä½œã£ã¦ã‚‹ã‚ˆã€‚",
  "èª°ã‹ã®ãŸã‚ã«å‹•ãã“ã¨ãŒã§ãã‚‹ã£ã¦ã€æœ¬å½“ã«ã™ã”ã„ã€‚",
  "ã‚ã®ä¸€è¨€ã€å„ªã—ã•ãŒæ»²ã‚“ã§ãŸã‚ˆã€‚ã‚ã‚ŠãŒã¨ã†ã€‚",
  "ãã®å·¥å¤«ã€ã™ã”ãè‰¯ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã ã£ãŸã­ã€‚",
  "çœŸé¢ç›®ã«å–ã‚Šçµ„ã‚€å§¿å‹¢ãŒã‹ã£ã“ã„ã„ã‚ˆã€‚",
  "æ„Ÿè¬ã‚’è¨€è‘‰ã«ã§ãã‚‹ã®ã€ç´ æ•µã ã­ã€‚",
  "è‡ªåˆ†ã®æ°—æŒã¡ã«æ­£ç›´ã§ã„ã‚‰ã‚Œã‚‹ã‚ãªãŸã€ç«‹æ´¾ã ã‚ˆã€‚",
  "ä¸€æ­©ãšã¤ç¢ºå®Ÿã«é€²ã‚“ã§ã‚‹ã€‚ã¡ã‚ƒã‚“ã¨åˆ†ã‹ã£ã¦ã‚‹ã‚ˆã€‚",
  "ä»Šæ—¥ã‚‚ãŠç–²ã‚Œã•ã¾ã€‚ã‚ˆãé ‘å¼µã£ãŸã­ã€‚",
  "ã‚†ã£ãã‚Šã§ã‚‚ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ã‚„ã‚Œã¦ã„ã‚‹ã®ãŒç´ æ™´ã‚‰ã—ã„ã€‚",
  "ã‚ãªãŸãŒãã“ã«ã„ã‚‹ã ã‘ã§ã€ç©ºæ°—ãŒã‚„ã‚ã‚‰ãã­ã€‚",
  "ä»Šæ—¥ã‚‚ã¡ã‚ƒã‚“ã¨èµ·ãã¦å‰ã„ã‚ˆã€‚",
  "è©±ã—æ–¹ãŒä¸å¯§ã§ã€ã¨ã¦ã‚‚å¥½æ„ŸãŒæŒã¦ã‚‹ã‚ˆã€‚",
  "ã‚ã®æ™‚ã®åˆ¤æ–­ã€å†·é™ã§è¦‹äº‹ã ã£ãŸã­ã€‚",
  "ã¡ã‚ƒã‚“ã¨è‡ªåˆ†ã®è€ƒãˆã‚’æŒã£ã¦ã„ã‚‹ã®ãŒç´ æ•µã ã‚ˆã€‚",
  "æ°—ã¥ã„ãŸã“ã¨ã‚’è¨€è‘‰ã«ã§ãã‚‹ã®ã€å‹‡æ°—ãŒã‚ã‚‹ã­ã€‚",
  "æ€ã„ã‚„ã‚Šã‚’å¿˜ã‚Œãªã„ã¨ã“ã‚ãŒã€ã‚ãªãŸã‚‰ã—ã„ã€‚",
  "çœŸã£ç›´ããªå§¿å‹¢ãŒæœ¬å½“ã«æ°—æŒã¡ã„ã„ã­ã€‚",
  "ã‚ãªãŸã®å„ªã—ã•ãŒå‘¨ã‚Šã‚’æ•‘ã£ã¦ã‚‹ã‚ˆã€‚",
  "å›°ã£ã¦ã‚‹äººã«æ‰‹ã‚’å·®ã—ä¼¸ã¹ã‚‰ã‚Œã‚‹ã€ãã‚Œã ã‘ã§å°Šã„ã€‚",
  "ç´ ç›´ã«ã‚ã‚ŠãŒã¨ã†ãŒè¨€ãˆã‚‹ã®ã£ã¦ã€ã™ã”ã„ã“ã¨ã ã‚ˆã€‚",
  "äººã®è‰¯ã„ã¨ã“ã‚ã‚’ã¡ã‚ƒã‚“ã¨è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ã­ã€‚",
  "å°ã•ãªã“ã¨ã§ã‚‚ä¸å¯§ã«ã‚„ã‚‹å§¿å‹¢ãŒå¥½ãã ã‚ˆã€‚",
  "è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã§ãã¦ã„ã‚‹ã®ãŒç´ æ™´ã‚‰ã—ã„ã€‚",
  "ç„¡ç†ã›ãšä¼‘ã‚ã¦ã„ã‚‹ã‚ãªãŸã€ã™ã”ãè³¢ã„ã€‚",
  "æ€ã£ã¦ã„ã‚‹ã‚ˆã‚Šãšã£ã¨é ‘å¼µã‚Œã¦ã‚‹ã‚ˆã€‚",
  "ãã®è½ã¡ç€ã„ãŸå¯¾å¿œã€è¦‹ç¿’ã„ãŸã„ãã‚‰ã„ã€‚",
  "å„ªã—ã„è¨€è‘‰é¸ã³ã«ã€ã‚ãªãŸã®äººæŸ„ãŒå‡ºã¦ã‚‹ã­ã€‚",
  "ä¸å¯§ã«èã„ã¦ãã‚Œã‚‹ã‹ã‚‰å®‰å¿ƒã™ã‚‹ã‚ˆã€‚",
  "ã‚ãªãŸã®èª å®Ÿã•ã¯æœ¬ç‰©ã ã­ã€‚",
  "ã©ã‚“ãªçŠ¶æ³ã§ã‚‚å†·é™ã§ã„ã‚‰ã‚Œã‚‹ã®ãŒã™ã”ã„ã€‚",
  "å°ã•ãªå·¥å¤«ã‚’é‡ã­ã¦ã„ã‚‹ã®ãŒä¼ã‚ã£ã¦ãã‚‹ã‚ˆã€‚",
  "ã„ã¤ã‚‚å‘¨ã‚Šã‚’æ°—ã«ã‹ã‘ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã€‚",
  "ä¸€æ­©å¼•ã„ã¦è¦‹å®ˆã‚Œã‚‹ã‚ãªãŸã®ä½™è£•ã€ç´ æ•µã ã‚ˆã€‚",
  "æ°—é…ã‚Šä¸Šæ‰‹ã£ã¦ã“ã†ã„ã†äººã®ã“ã¨ã‚’è¨€ã†ã‚“ã ã­ã€‚",
  "è¨€è‘‰ã«å„ªã—ã•ãŒã‚ã‚‹ã­ã€‚ç™’ã•ã‚Œã‚‹ã‚ˆã€‚",
  "ã•ã‚Šã’ãªããƒ•ã‚©ãƒ­ãƒ¼ã§ãã‚‹ã®ã€æœ¬å½“ã«ã‹ã£ã“ã„ã„ã€‚",
  "ä½•æ°—ãªã„è¡Œå‹•ã«èª å®Ÿã•ãŒæ»²ã‚“ã§ã‚‹ã‚ˆã€‚",
  "ã©ã‚“ãªæ™‚ã‚‚ç¬‘é¡”ã‚’å¿˜ã‚Œãªã„ã®ãŒã™ã”ã„ã€‚",
  "è½ã¡è¾¼ã‚“ã§ã‚‚ç«‹ã¡ä¸ŠãŒã‚‹åŠ›ãŒã‚ã‚‹ã­ã€‚",
  "ã‚†ã‚‹ã‚„ã‹ã«ç¶šã‘ã¦ã‚‹ã€ãã‚ŒãŒä¸€ç•ªå‰ã„ã‚ˆã€‚",
  "ä¸€ã¤ã²ã¨ã¤ã‚’ä¸å¯§ã«ã“ãªã™ã®ãŒã‚ãªãŸã‚‰ã—ã„ã€‚",
  "äººã‚’å®‰å¿ƒã•ã›ã‚‹é›°å›²æ°—ãŒã‚ã‚‹ã­ã€‚",
  "ã‚ãªãŸã®å­˜åœ¨ãŒãƒãƒ¼ãƒ ã‚’æ”¯ãˆã¦ã‚‹ã‚ˆã€‚",
  "å¿™ã—ã„ä¸­ã§ã‚‚ä¸å¯§ã«å¯¾å¿œã§ãã¦ã™ã”ã„ã€‚",
  "ã‚„ã‚‹æ°—ãŒå‡ºãªã„æ—¥ã§ã‚‚ã€ã¡ã‚ƒã‚“ã¨å‰ã‚’å‘ã„ã¦ã‚‹ã­ã€‚",
  "ç´ ç›´ã«åçœã§ãã‚‹ã®ã€ç«‹æ´¾ãªå¼·ã•ã ã‚ˆã€‚",
  "ã‚ãªãŸã®å£°ã«ã¯æ¸©ã‹ã•ãŒã‚ã‚‹ã­ã€‚",
  "å„ªã—ã„é›°å›²æ°—ã‚’æŒã£ã¦ã‚‹äººã£ã¦è²´é‡ã ã‚ˆã€‚",
  "æ§ãˆã‚ãªã®ã«ã—ã£ã‹ã‚Šã—ã¦ã¦ã€ä¿¡é ¼ã§ãã‚‹ã€‚",
  "æ°—ã¥ã‹ã‚Œãªã„åŠªåŠ›ã‚’ç¶šã‘ã¦ã‚‹ã®ãŒã™ã”ã„ã€‚",
  "èª°ã‹ã‚’ç¬‘é¡”ã«ã§ãã‚‹åŠ›ã‚’æŒã£ã¦ã‚‹ã­ã€‚",
  "ãã¡ã‚“ã¨è€ƒãˆã¦å‹•ã‘ã‚‹äººã£ã¦ç´ æ•µã ã‚ˆã€‚",
  "ä»–äººã‚’è²¬ã‚ãšã«å—ã‘æ­¢ã‚ã‚‰ã‚Œã‚‹å¿ƒãŒã‚ã‚‹ã­ã€‚",
  "ã¡ã‚ƒã‚“ã¨ä¼ãˆã‚ˆã†ã¨ã™ã‚‹æ°—æŒã¡ãŒä¼ã‚ã‚‹ã‚ˆã€‚",
  "æ„Ÿè¬ã‚’å¿˜ã‚Œãªã„å§¿å‹¢ãŒç´ æ™´ã‚‰ã—ã„ã­ã€‚",
  "æ–°ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã§ãã‚‹å‹‡æ°—ãŒã‚ã‚‹ã€‚",
  "æ€ã£ãŸã“ã¨ã‚’ã‚„ã‚Šåˆ‡ã‚Œã‚‹è¡Œå‹•åŠ›ãŒã™ã”ã„ã€‚",
  "äººã®è©±ã‚’æœ€å¾Œã¾ã§èã‘ã‚‹ã®ãŒå‰ã„ã‚ˆã€‚",
  "ã„ã¤ã‚‚ä¸å¯§ã«å¯¾å¿œã—ã¦ãã‚Œã¦åŠ©ã‹ã£ã¦ã‚‹ã‚ˆã€‚",
  "å°ã•ãªå¤‰åŒ–ã«æ°—ã¥ã‘ã‚‹ã®ã€è¦³å¯ŸåŠ›ãŒã‚ã‚‹è¨¼æ‹ ã ã­ã€‚",
  "ã‚ãªãŸã®è½ã¡ç€ããŒå ´ã‚’å’Œã¾ã›ã¦ãã‚Œã‚‹ã€‚",
  "æ±ºã—ã¦è«¦ã‚ãªã„å§¿å‹¢ãŒå°Šæ•¬ã§ãã‚‹ã€‚",
  "è¨€è‘‰ã«å„ªã—ã•ãŒã‚ã£ã¦å¿ƒåœ°ã„ã„ã­ã€‚",
  "å‘¨ã‚Šã®äººãŒå®‰å¿ƒã—ã¦è©±ã›ã‚‹ç†ç”±ã€ã‚ãªãŸã«ã‚ã‚‹ã‚ˆã€‚",
  "èª å®Ÿã«ç©ã¿é‡ã­ã¦ã„ã‚‹ã®ãŒç´ æ™´ã‚‰ã—ã„ã€‚",
  "èª°ã‹ã®ãŸã‚ã«å‹•ã‘ã‚‹ã®ãŒæœ¬å½“ã«ç«‹æ´¾ã ã‚ˆã€‚",
  "å‰å‘ããªè¨€è‘‰ã‚’é¸ã¹ã‚‹ã‚ãªãŸã¯ç´ æ•µã ã­ã€‚",
  "ãã£ã¨å¤šãã®äººãŒã€ã‚ãªãŸã®å­˜åœ¨ã«æ•‘ã‚ã‚Œã¦ã‚‹ã‚ˆã€‚",
  "ãƒŸã‚¹ã—ã¦ã‚‚ç«‹ã¦ç›´ã›ã‚‹åŠ›ãŒã‚ã‚‹ã­ã€‚",
  "ã¡ã‚ƒã‚“ã¨è€ƒãˆç›´ã›ã‚‹æŸ”è»Ÿã•ãŒã‚ã‚‹ã®ãŒã„ã„ã­ã€‚",
  "ç„¦ã‚‰ãšç€å®Ÿã«ã§ãã‚‹ã®ãŒã‚ãªãŸã®å¼·ã¿ã ã‚ˆã€‚",
  "è½ã¡ç€ã„ãŸå£°ã«å®‰å¿ƒæ„ŸãŒã‚ã‚‹ã­ã€‚",
  "ä»•äº‹ï¼ˆå‹‰å¼·ï¼‰ã«èª å®Ÿã«å‘ãåˆã£ã¦ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã‚ˆã€‚",
  "ã¡ã‚‡ã£ã¨ã—ãŸæ°—ã¥ã‹ã„ãŒæœ¬å½“ã«ã†ã‚Œã—ã„ã€‚",
  "ç›¸æ‰‹ã‚’å¤§åˆ‡ã«ã§ãã‚‹ã‚ãªãŸã®å„ªã—ã•ã€å°Šæ•¬ã™ã‚‹ã‚ˆã€‚",
  "ç¶šã‘ã‚‹åŠ›ãŒã‚ã‚‹ã£ã¦ã€ä½•ã‚ˆã‚Šã®æ‰èƒ½ã ã‚ˆã€‚",
  "çŠ¶æ³ã‚’ã‚ˆãè¦‹ã¦å‹•ã‘ã‚‹äººã ã­ã€‚",
  "é™ã‹ãªåŠªåŠ›ãŒä¸€ç•ªã™ã”ã„ã‚“ã ã‚ˆã€‚",
  "äººã®ç«‹å ´ã‚’ç†è§£ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã®ãŒå‰ã„ã­ã€‚",
  "å¿™ã—ãã¦ã‚‚äººã‚’æ€ã„ã‚„ã‚Œã‚‹ã‚ãªãŸãŒç´ æ•µã€‚",
  "ã„ã¤ã‚‚è½ã¡ç€ã„ã¦ã‚‹ã‹ã‚‰å®‰å¿ƒã§ãã‚‹ã€‚",
  "æŸ”ã‚‰ã‹ã„é›°å›²æ°—ã§å‘¨ã‚Šã‚’åŒ…ã¿è¾¼ã‚ã‚‹ã­ã€‚",
  "ã¡ã‚‡ã£ã¨ã—ãŸä¸€è¨€ãŒæ¸©ã‹ã„äººã ã­ã€‚",
  "æ™‚é–“ã‚’å®ˆã‚‹å§¿å‹¢ãŒä¿¡é ¼ã«ã¤ãªãŒã£ã¦ã‚‹ã‚ˆã€‚",
  "æ°—æŒã¡ã‚’æ•´ç†ã—ã¦è¨€è‘‰ã«ã§ãã‚‹ã®ãŒç´ æ™´ã‚‰ã—ã„ã€‚",
  "ã‚ãªãŸã®ä¸å¯§ã•ã«åŠ©ã‘ã‚‰ã‚Œã¦ã‚‹äººãŒãŸãã•ã‚“ã„ã‚‹ã‚ˆã€‚",
  "è¬™è™šã§èª å®Ÿãªã¨ã“ã‚ãŒæœ¬å½“ã«ç´ æ•µã€‚",
  "è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã™ã‚‹å§¿å‹¢ãŒå¥½å°è±¡ã ã‚ˆã€‚",
  "ã‚ã®å ´é¢ã§å†·é™ã§ã„ã‚‰ã‚ŒãŸã®ãŒã™ã”ã„ï¼",
  "ç›¸æ‰‹ã‚’æ€ã£ã¦è¨€è‘‰ã‚’é¸ã¹ã‚‹ã®ãŒå„ªã—ã•ã ã­ã€‚",
  "æ­£ç›´ã«è©±ã›ã‚‹ã‚ãªãŸã¯ä¿¡é ¼ã§ãã‚‹äººã ã‚ˆã€‚",
  "è¡¨æƒ…ã«å®‰å¿ƒæ„ŸãŒã‚ã‚‹ã­ã€‚",
  "è‡ªåˆ†ã«å³ã—ããªã‚Šã™ããªã„ã§ã„ã‚‰ã‚Œã‚‹ã®ãŒå‰ã„ã€‚",
  "æŸ”ã‚‰ã‹ã„è¨€è‘‰ã¥ã‹ã„ã«ç™’ã•ã‚Œã‚‹ã‚ˆã€‚",
  "èª å®Ÿã•ãŒæ»²ã¿å‡ºã¦ã„ã¦æœ¬å½“ã«ç´ æ•µã ã­ã€‚",
  "ä¸€ç”Ÿæ‡¸å‘½ã§ã„ã‚‹å§¿ãŒå¥½å°è±¡ã ã‚ˆã€‚",
  "æ„Ÿæƒ…ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã®ãŒã™ã”ã„ã€‚",
  "é ‘å¼µã‚Šã™ããšã«é ‘å¼µã£ã¦ã‚‹ã®ãŒãˆã‚‰ã„ã­ã€‚",
  "ç´ ç›´ã«å–œã¹ã‚‹ã‚ãªãŸãŒå¥½ãã ã‚ˆã€‚",
  "ã‚†ã£ãŸã‚Šæ§‹ãˆã¦ã„ã‚‰ã‚Œã‚‹ã®ãŒã‚ãªãŸã®é­…åŠ›ã ã­ã€‚",
  "ã‚ãªãŸã®å­˜åœ¨ãã®ã‚‚ã®ãŒå®‰å¿ƒæ„Ÿã ã‚ˆã€‚",
  "å„ªã—ã•ã«åŠ ãˆã¦ã€èŠ¯ã®å¼·ã•ãŒã‚ã‚‹ã­ã€‚",
  "é›£ã—ã„è©±ã‚‚åˆ†ã‹ã‚Šã‚„ã™ãä¼ãˆã‚‰ã‚Œã¦ã™ã”ã„ï¼",
  "äººã«æ„Ÿè¬ã‚’ä¼ãˆã‚‹ã®ã‚’å¿˜ã‚Œãªã„ã¨ã“ã‚ãŒå¥½ãã ã‚ˆã€‚",
  "çœŸå‰£ã«è€ƒãˆã¦ãã‚Œã‚‹ã‹ã‚‰ä¿¡é ¼ã§ãã‚‹ã€‚",
  "è½ã¡ç€ã„ã¦ã‚‹ã‘ã©ã€èŠ¯ã¯ã—ã£ã‹ã‚Šã—ã¦ã‚‹ã­ã€‚",
  "å¿™ã—ã„ã®ã«ç¬‘é¡”ã‚’å¿˜ã‚Œãªã„ã®ãŒç´ æ•µã ã‚ˆã€‚",
  "ã‚ã®å¯¾å¿œã€å®Œç’§ã ã£ãŸã­ã€‚ã»ã‚“ã¨ã«ã™ã”ã„ï¼",
  "æ§ãˆã‚ã ã‘ã©å½±ã§æ”¯ãˆã¦ã‚‹ã€ãã®å§¿ãŒã‹ã£ã“ã„ã„ã€‚",
  "äººã®ãŸã‚ã«å‹•ã‘ã‚‹å„ªã—ã•ãŒã‚ã‚‹ã­ã€‚",
  "èª å®Ÿã•ã¨æ¸©ã‹ã•ã®ãƒãƒ©ãƒ³ã‚¹ãŒæœ¬å½“ã«ç´ æ•µã€‚",
  "ç´ ç›´ã«ã€Œã‚ã‚ŠãŒã¨ã†ã€ãŒè¨€ãˆã‚‹äººã£ã¦è²´é‡ã ã‚ˆã€‚",
  "ä»Šæ—¥ã‚‚ã„ã„ç©ºæ°—ã‚’ä½œã£ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã€‚",
  "ã‚ãªãŸã®ã‚ˆã†ãªäººãŒã„ã‚‹ã¨å®‰å¿ƒã™ã‚‹ã€‚",
  "å›°é›£ãªæ™‚ã§ã‚‚è«¦ã‚ãšã€å‰ã‚’å‘ã‘ã¦ã‚‹ã®ãŒãˆã‚‰ã„ã€‚",
  "ã©ã‚“ãªçŠ¶æ³ã§ã‚‚ä¸å¯§ã«æ¥ã™ã‚‹ã‚ãªãŸã¯ã™ã”ã„ã€‚",
  "èª°ã‹ã‚’åŠ©ã‘ã‚ˆã†ã¨ã™ã‚‹æ°—æŒã¡ã€ãã‚Œã ã‘ã§ç«‹æ´¾ã ã‚ˆã€‚",
  "å°‘ã—ã®å„ªã—ã•ãŒã™ã”ãå¤§ããªæ”¯ãˆã«ãªã£ã¦ã‚‹ã‚ˆã€‚",
  "ç©ã‚„ã‹ã§è½ã¡ç€ã„ãŸã‚ãªãŸã®é›°å›²æ°—ãŒå¥½ãã ã‚ˆã€‚",
  "åœ°é“ã«ç¶šã‘ã‚‹ã‚ãªãŸã‚’å°Šæ•¬ã™ã‚‹ã€‚",
  "ã‚ãªãŸã®é ‘å¼µã‚ŠãŒã€èª°ã‹ã®åŠ±ã¿ã«ãªã£ã¦ã‚‹ã‚ˆã€‚",
  "å°ã•ãªå¤‰åŒ–ã«æ°—ã¥ã‘ã‚‹ã‚»ãƒ³ã‚¹ãŒã™ã”ã„ã­ã€‚",
  "ç›¸æ‰‹ã®æ°—æŒã¡ã‚’æ±²ã¿å–ã‚Œã‚‹ã®ã€æ‰èƒ½ã ã‚ˆã€‚",
  "ä¿¡é ¼ã•ã‚Œã¦ã‚‹ç†ç”±ãŒã‚ã‹ã‚‹ã‚ˆã€‚",
  "ãã®ç©ã‚„ã‹ã•ãŒã€å‘¨å›²ã‚’å¹¸ã›ã«ã—ã¦ã‚‹ã€‚"
];

// ===== App state =====
const el = (id) => document.getElementById(id);
const ui = {
  text: el('phrase-text'), rate: el('rate'), pitch: el('pitch'), volume: el('volume'),
  rateVal: el('rate-val'), pitchVal: el('pitch-val'), volVal: el('vol-val'),
  voiceSel: el('voice'),
  btnStart: el('btn-start'), btnPause: el('btn-pause'), btnNext: el('btn-next'), btnPrev: el('btn-prev'),
  btnLoop: el('btn-loop'), btnShuffle: el('btn-shuffle'),
  count: el('count'), pos: el('pos'), tbody: el('tbody'),
  gate: el('gate'), btnGate: el('btn-gate'),
  status: el('status-pill'), saveIndicator: el('save-indicator'),
  addTA: el('new-phrases'), btnAdd: el('btn-add'), btnReset: el('btn-reset'), btnDelete: el('btn-delete'),
  btnExport: el('btn-export'), btnImport: el('btn-import'), importFile: el('import-file')
};

let db, phrases = [], index = 0, voices = [], speaking = false;
const settings = { rate: 1, pitch: 1, volume: 1, voiceURI: null, loop: true, shuffle: false, startedOnce: false };

function setStatus(msg){ ui.status.textContent = msg; }
let saveTimeout; function markSaved(){ ui.saveIndicator.textContent = 'ä¿å­˜æ¸ˆã¿'; }
function markDirty(){ ui.saveIndicator.textContent = 'ä¿å­˜ä¸­â€¦'; clearTimeout(saveTimeout); saveTimeout = setTimeout(()=>ui.saveIndicator.textContent='ä¿å­˜æ¸ˆã¿', 500); }

function updateMeters(){ ui.rateVal.textContent = settings.rate.toFixed(2); ui.pitchVal.textContent = settings.pitch.toFixed(2); ui.volVal.textContent = settings.volume.toFixed(2); }
function updateToggles(){ ui.btnLoop.setAttribute('aria-pressed', String(settings.loop)); ui.btnShuffle.setAttribute('aria-pressed', String(settings.shuffle)); }
function updateCounters(){ ui.count.textContent = phrases.length; ui.pos.textContent = phrases.length ? `${index+1}/${phrases.length}` : '-'; }

function renderList(){
  ui.tbody.innerHTML = '';
  phrases.forEach((p,i)=>{
    const tr = document.createElement('tr');
    if(i===index) tr.classList.add('active');
    const n = document.createElement('td'); n.textContent = i+1; n.style.textAlign='right'; n.style.opacity=.7; n.style.width='48px';
    const t = document.createElement('td'); t.textContent = p.text; t.style.cursor='pointer'; t.title='ã‚¯ãƒªãƒƒã‚¯ã§ã‚¸ãƒ£ãƒ³ãƒ—';
    tr.appendChild(n); tr.appendChild(t); ui.tbody.appendChild(tr);
    tr.addEventListener('click', ()=>{ index = i; persistIndex(); showCurrent(); if(speaking) speakCurrent(true); });
  });
}

function showCurrent(){
  ui.text.classList.remove('fade'); void ui.text.offsetWidth; ui.text.classList.add('fade');
  const cur = phrases[index]; ui.text.textContent = cur ? cur.text : 'ãƒ•ãƒ¬ãƒ¼ã‚ºãŒã‚ã‚Šã¾ã›ã‚“';
  renderList(); updateCounters(); }

function nextIndex(){ if(!phrases.length) return 0; if(settings.shuffle){ return Math.floor(Math.random()*phrases.length); } return (index+1)%phrases.length; }
function prevIndex(){ if(!phrases.length) return 0; return (index-1+phrases.length)%phrases.length; }

function persistSettings(){ markDirty(); return saveState(db,'settings', {...settings}).then(markSaved); }
function persistIndex(){ markDirty(); return saveState(db,'currentIndex', index).then(markSaved); }

function populateVoices(){ voices = speechSynthesis.getVoices(); ui.voiceSel.innerHTML='';
  const opt0 = document.createElement('option'); opt0.value=''; opt0.textContent='ï¼ˆè‡ªå‹•é¸æŠï¼‰'; ui.voiceSel.appendChild(opt0);
  voices.forEach(v=>{
    const o = document.createElement('option'); o.value = v.voiceURI; o.textContent = `${v.name} / ${v.lang}`; ui.voiceSel.appendChild(o);
  });
  if(settings.voiceURI){ ui.voiceSel.value = settings.voiceURI; }
}

function getSelectedVoice(){ if(!settings.voiceURI) return null; return voices.find(v=>v.voiceURI===settings.voiceURI)||null; }

let currentUtterance = null;
function speakCurrent(force=false){
  if(!phrases.length) return;
  const text = phrases[index].text;
  if(!force && speechSynthesis.speaking){ try{ speechSynthesis.cancel(); }catch(e){} }
  const u = new SpeechSynthesisUtterance(text);
  u.rate = settings.rate; u.pitch = settings.pitch; u.volume = settings.volume;
  const v = getSelectedVoice(); if(v) u.voice = v;
  u.onstart = ()=>{ speaking = true; setStatus('å†ç”Ÿä¸­'); ui.btnStart.textContent='â¹ åœæ­¢'; };
  u.onend = ()=>{
    speaking = false; setStatus('å¾…æ©Ÿä¸­'); ui.btnStart.textContent='â–¶ï¸ å†ç”Ÿ';
    if(settings.loop){ index = nextIndex(); persistIndex(); showCurrent(); speakCurrent(true); }
  };
  u.onerror = ()=>{ speaking=false; setStatus('ã‚¨ãƒ©ãƒ¼'); };
  currentUtterance = u; speechSynthesis.speak(u);
}

function stopSpeak(){ if(speechSynthesis.speaking||speechSynthesis.pending){ speechSynthesis.cancel(); speaking=false; setStatus('åœæ­¢'); ui.btnStart.textContent='â–¶ï¸ å†ç”Ÿ'; } }
function pauseSpeak(){ if(speechSynthesis.speaking && !speechSynthesis.paused){ speechSynthesis.pause(); setStatus('ä¸€æ™‚åœæ­¢'); } }
function resumeSpeak(){ if(speechSynthesis.paused){ speechSynthesis.resume(); setStatus('å†ç”Ÿä¸­'); } }

// ===== Bootstrap =====
(async function init(){
  db = await openDB();
  // restore settings
  const saved = await getState(db,'settings'); if(saved){ Object.assign(settings, saved); }
  updateMeters(); updateToggles();
  ui.rate.value = settings.rate; ui.pitch.value = settings.pitch; ui.volume.value = settings.volume;

  // voices (may be async)
  populateVoices(); if(typeof speechSynthesis !== 'undefined'){ speechSynthesis.onvoiceschanged = populateVoices; }

  // phrases
  phrases = await getAllPhrases(db);
  if(!phrases.length){ // seed defaults
    for(const line of DEFAULTS){ await addPhrase(db, line); }
    phrases = await getAllPhrases(db);
  }
  const savedIndex = await getState(db,'currentIndex'); index = Number.isInteger(savedIndex) ? Math.min(Math.max(0,savedIndex), Math.max(0,phrases.length-1)) : 0;

  renderList(); showCurrent();
  updateCounters();

  // gate: try autoplay once, otherwise show overlay
  try{
    if(settings.startedOnce){
      const gateEl = document.getElementById('gate');
      if (gateEl) gateEl.remove(); // ä»¥å¾Œã¯DOMã‹ã‚‰é™¤å»ã—ã¦è¡¨ç¤ºã•ã‚Œãªã„ã‚ˆã†ã«
      speakCurrent(true);
    } else {
      document.getElementById('gate').hidden = false;
    }
  } catch(e) {
    document.getElementById('gate').hidden = false;
  }
})();

// ===== UI events =====
ui.btnGate.addEventListener('click', ()=>{
  // æŠ¼ä¸‹å¾Œã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è‡ªä½“ã‚’å‰Šé™¤ã—ã¦å†è¡¨ç¤ºã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹
  if (ui.gate && ui.gate.parentNode) ui.gate.parentNode.removeChild(ui.gate);
  settings.startedOnce = true;
  persistSettings();
  speakCurrent(true);
});
ui.btnStart.addEventListener('click', ()=>{
  if(speaking || speechSynthesis.speaking){ stopSpeak(); }
  else { settings.startedOnce = true; persistSettings(); speakCurrent(true); }
});
ui.btnPause.addEventListener('click', ()=>{ if(speechSynthesis.paused) resumeSpeak(); else pauseSpeak(); });
ui.btnNext.addEventListener('click', ()=>{ index = nextIndex(); persistIndex(); showCurrent(); if(settings.loop && speaking) speakCurrent(true); });
ui.btnPrev.addEventListener('click', ()=>{ index = prevIndex(); persistIndex(); showCurrent(); if(settings.loop && speaking) speakCurrent(true); });
ui.btnLoop.addEventListener('click', ()=>{ settings.loop = !settings.loop; updateToggles(); persistSettings(); });
ui.btnShuffle.addEventListener('click', ()=>{ settings.shuffle = !settings.shuffle; updateToggles(); persistSettings(); });

ui.rate.addEventListener('input', ()=>{ settings.rate = +ui.rate.value; updateMeters(); markDirty(); });
ui.rate.addEventListener('change', ()=>{ persistSettings(); if(speaking) speakCurrent(true); });
ui.pitch.addEventListener('input', ()=>{ settings.pitch = +ui.pitch.value; updateMeters(); markDirty(); });
ui.pitch.addEventListener('change', ()=>{ persistSettings(); if(speaking) speakCurrent(true); });
ui.volume.addEventListener('input', ()=>{ settings.volume = +ui.volume.value; updateMeters(); markDirty(); });
ui.volume.addEventListener('change', ()=>{ persistSettings(); if(speaking) speakCurrent(true); });

ui.voiceSel.addEventListener('change', ()=>{ settings.voiceURI = ui.voiceSel.value || null; persistSettings(); if(speaking) speakCurrent(true); });

ui.btnAdd.addEventListener('click', async ()=>{
  const lines = ui.addTA.value.split(/\n+/).map(s=>s.trim()).filter(Boolean);
  if(!lines.length) return;
  for(const line of lines){ await addPhrase(db, line); }
  ui.addTA.value=''; phrases = await getAllPhrases(db); renderList(); updateCounters(); markSaved();
});

ui.btnReset.addEventListener('click', async ()=>{
  if(!confirm('æ—¢å®šã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å†æŠ•å…¥ã—ã¾ã™ã€‚ç¾åœ¨ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã¯æ®‹ã‚Šã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) return;
  for(const line of DEFAULTS){ await addPhrase(db, line); }
  phrases = await getAllPhrases(db); renderList(); updateCounters(); markSaved();
});

ui.btnDelete.addEventListener('click', async ()=>{
  if(!phrases.length) return; const cur = phrases[index];
  if(!confirm('ã“ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\n\n'+cur.text)) return;
  await deletePhrase(db, cur.id);
  phrases = await getAllPhrases(db);
  if(index >= phrases.length) index = Math.max(0, phrases.length-1);
  persistIndex(); renderList(); showCurrent();
});

ui.btnExport.addEventListener('click', async ()=>{
  const payload = { settings, phrases, index };
  const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'pep_stream_export.json'; a.click();
  setTimeout(()=>URL.revokeObjectURL(url), 1000);
});
ui.btnImport.addEventListener('click', ()=> ui.importFile.click());
ui.importFile.addEventListener('change', async (e)=>{
  const file = e.target.files?.[0]; if(!file) return;
  const text = await file.text();
  try{
    const data = JSON.parse(text);
    if(Array.isArray(data.phrases)){
      await clearPhrases(db);
      for(const p of data.phrases){ await addPhrase(db, String(p.text||'').trim()); }
      phrases = await getAllPhrases(db);
    }
    if(typeof data.index === 'number'){ index = Math.min(Math.max(0,data.index), Math.max(0,phrases.length-1)); }
    if(data.settings && typeof data.settings==='object'){ Object.assign(settings, data.settings); await persistSettings(); }
    renderList(); showCurrent(); updateMeters(); updateToggles();
  }catch(err){ alert('ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: '+err.message); }
  ui.importFile.value='';
});

// ä¿å­˜ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿åˆæœŸçŠ¶æ…‹
markSaved();
</script>
</body>
</html>

