<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>åŠ±ã¾ã—ãƒ«ãƒ¼ãƒ—ï½œéŸ³å£°èª­ã¿ä¸Šã’ï¼†ãƒ«ãƒ¼ãƒ—ï½œIndexedDBè‡ªå‹•ä¿å­˜</title>
  <meta name="description" content="åŠ±ã¾ã™ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’ã²ãŸã™ã‚‰å‚ã‚Œæµã™ã‚µã‚¤ãƒˆã€‚éŸ³å£°èª­ã¿ä¸Šã’ï¼ˆWeb Speech APIï¼‰ãƒ»ãƒ«ãƒ¼ãƒ—å†ç”Ÿã€‚è¨­å®šã‚„é€²æ—ã¯IndexedDBã¸ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¿å­˜ã—ã€å†èµ·å‹•æ™‚ã«å¾©å…ƒã—ã¾ã™ã€‚" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-grad: radial-gradient(1200px 600px at 80% -10%, #93c5fd33, transparent 50%),
                  radial-gradient(900px 500px at 0% 100%, #a78bfa33, transparent 50%),
                  linear-gradient(135deg,#0b1020,#0f172a 60%, #0b1020);
      --glass: rgba(255,255,255,0.1);
      --glass-2: rgba(255,255,255,0.07);
      --text: #e6e6f0;
      --muted: #a7b0c0;
      --accent: #60a5fa;
      --accent-2:#a78bfa;
      --ok:#34d399; --warn:#f59e0b; --danger:#f87171;
      --shadow: 0 10px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg-grad); color:var(--text);
      font-family:"Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      letter-spacing:.01em;
    }
    .wrap{min-height:100%; display:grid; place-items:center; padding:24px}
    .card{
      width:min(1100px, 94vw); max-height: 92vh; overflow: hidden; position:relative;
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.15); border-radius:28px; box-shadow:var(--shadow);
      backdrop-filter: blur(16px) saturate(120%);
    }
    .hero{
      padding: 28px 28px 18px; display:flex; gap:16px; align-items:center; justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .brand{display:flex; align-items:center; gap:14px}
    .logo{
      width:44px; height:44px; border-radius:14px; background:linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 10px 24px rgba(96,165,250,.35);
      display:grid; place-items:center;
      font: 800 18px Outfit, system-ui; color:#0b1020;
    }
    .title{line-height:1.1}
    .title h1{margin:0; font:800 22px/1.1 Outfit, system-ui}
    .title p{margin:0; color:var(--muted); font:400 12px/1.4 Outfit, system-ui}
    .hero .right{display:flex; gap:10px; align-items:center}
    .pill{padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.15); background:var(--glass-2); color:var(--muted); font:600 12px Outfit}

    .main{display:grid; grid-template-columns: 1.3fr .9fr; gap:16px; padding: 16px; align-items:stretch}
    @media (max-width: 980px){ .main{grid-template-columns:1fr; height:auto;}}

    .viewer{
      background:var(--glass); border:1px solid rgba(255,255,255,.1); border-radius:22px; padding:22px; display:flex; flex-direction:column; gap:16px; min-height: 48vh;
    }
    .phrase{
      flex:1; display:grid; place-items:center; text-align:center; padding: 12px; border-radius:18px; position:relative;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px dashed rgba(255,255,255,.12);
    }
    .phrase .text{font-family:"Outfit","Noto Sans JP"; font-weight:700; letter-spacing:.02em; line-height:1.25; font-size: clamp(28px, 4.6vw, 56px)}
    .fade{animation: fadeIn .5s ease both}
    @keyframes fadeIn{from{opacity:0; transform: translateY(8px)} to{opacity:1; transform:none}}

    .controls{display:flex; align-items:center; justify-content:center; gap:14px; flex-wrap:wrap}
    button, .btn{
      appearance:none; border:0; background: linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.08));
      color:var(--text); border:1px solid rgba(255,255,255,.18); border-radius:14px; padding:12px 16px; font:600 14px Outfit;
      box-shadow:var(--shadow); cursor:pointer; transition: transform .06s ease, background .2s ease;
    }
    button:hover{transform: translateY(-1px)}
    .btn-ghost{background:rgba(255,255,255,.06)}
    .toggle[aria-pressed="true"]{outline:2px solid var(--accent);}

    .meters{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
    .meter{background:var(--glass-2); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:12px}
    .meter label{display:flex; justify-content:space-between; font:600 12px Outfit; color:var(--muted); margin-bottom:8px}
    input[type="range"]{width:100%}

    .sidebar{
      background:var(--glass); border:1px solid rgba(255,255,255,.1); border-radius:22px; padding:18px; display:flex; flex-direction:column; gap:14px; min-height:48vh;
    }
    .field{display:flex; flex-direction:column; gap:8px}
    .field label{font:600 12px Outfit; color:var(--muted)}
    select, textarea, input[type="text"]{
      width:100%; background:rgba(255,255,255,.06); color:var(--text); border:1px solid rgba(255,255,255,.16); border-radius:12px; padding:10px 12px; font:500 14px/1.5 "Noto Sans JP";
    }
    textarea{min-height:120px; resize:vertical}

    .list{flex:1; overflow:auto; border-radius:14px; border:1px solid rgba(255,255,255,.1)}
    .list table{width:100%; border-collapse:collapse; font:500 13px/1.4 "Noto Sans JP"}
    .list th, .list td{padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.08)}
    .list tr.active{background:rgba(96,165,250,.12)}
    .tools{display:flex; gap:8px; flex-wrap:wrap}

    .footer{padding:16px 22px; color:var(--muted); border-top:1px solid rgba(255,255,255,.08); font:500 12px Outfit; display:flex; justify-content:space-between; align-items:center}
    .badge{padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.05)}
    .start-overlay{position:absolute; inset:0; display:grid; place-items:center; background:linear-gradient(180deg, rgba(11,16,32,.7), rgba(11,16,32,.8)); backdrop-filter: blur(3px)}
    .start-overlay .panel{background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06)); padding:22px; border-radius:18px; border:1px solid rgba(255,255,255,.18); text-align:center}
    .start-overlay .panel h2{margin:0 0 8px; font:800 20px Outfit}
    .start-overlay .panel p{margin:0 0 14px; color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">
      <div class="hero">
        <div class="brand">
          <div class="logo">åŠ±</div>
          <div class="title">
            <h1>åŠ±ã¾ã—ãƒ«ãƒ¼ãƒ— <span style="opacity:.6;font-weight:400">/ Pep Stream</span></h1>
            <p>éŸ³å£°èª­ã¿ä¸Šã’ï¼†ãƒ«ãƒ¼ãƒ—ã€‚è¨­å®šãƒ»é€²æ—ã¯IndexedDBã¸è‡ªå‹•ä¿å­˜ã€‚</p>
          </div>
        </div>
        <div class="right">
          <span class="pill" id="save-indicator">ä¿å­˜æ¸ˆã¿</span>
          <span class="pill" id="status-pill">å¾…æ©Ÿä¸­</span>
        </div>
      </div>

      <div class="main">
        <section class="viewer">
          <div class="phrase">
            <div class="text fade" id="phrase-text">èª­ã¿ä¸Šã’æº–å‚™ä¸­â€¦</div>
          </div>
          <div class="controls">
            <button id="btn-start" class="btn">â–¶ï¸ å†ç”Ÿ</button>
            <button id="btn-pause" class="btn btn-ghost">â¸ ä¸€æ™‚åœæ­¢</button>
            <button id="btn-prev" class="btn btn-ghost">âŸ² å‰ã¸</button>
            <button id="btn-next" class="btn btn-ghost">âŸ¶ æ¬¡ã¸</button>
            <button id="btn-shuffle" class="btn toggle btn-ghost" aria-pressed="false">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
            <button id="btn-loop" class="btn toggle" aria-pressed="true">ğŸ” ãƒ«ãƒ¼ãƒ—</button>
          </div>
          <div class="meters">
            <div class="meter">
              <label><span>èª­ã¿ä¸Šã’é€Ÿåº¦</span><span><span id="rate-val">2.0</span>x</span></label>
              <input id="rate" type="range" min="0.5" max="4" step="0.05" value="2">
            </div>
            <div class="meter">
              <label><span>ãƒ”ãƒƒãƒ</span><span id="pitch-val">1.0</span></label>
              <input id="pitch" type="range" min="0" max="2" step="0.05" value="1">
            </div>
            <div class="meter">
              <label><span>éŸ³é‡</span><span id="vol-val">1.0</span></label>
              <input id="volume" type="range" min="0" max="1" step="0.01" value="1">
            </div>
          </div>
        </section>

        <aside class="sidebar">
          <div class="field">
            <label for="voice">ãƒœã‚¤ã‚¹ï¼ˆç«¯æœ«ä¾å­˜ï¼‰</label>
            <select id="voice"></select>
          </div>

          <div class="field">
            <label for="new-phrases">ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’è¿½åŠ ï¼ˆ1è¡Œï¼1ä»¶ï¼‰</label>
            <textarea id="new-phrases" placeholder="ä¾‹ï¼‰\nç„¦ã‚‰ãªãã¦ã„ã„ã€‚\nã„ã¾ã®ä¸€æ­©ãŒã™ã¹ã¦ã‚’å¤‰ãˆã‚‹ã€‚\nã‚ãªãŸã¯ååˆ†ã‚„ã‚Œã¦ã„ã‚‹ã€‚"></textarea>
            <div class="tools">
              <button id="btn-add" class="btn">ï¼‹ è¿½åŠ </button>
              <button id="btn-reset" class="btn btn-ghost">â†º æ—¢å®šãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å†æŠ•å…¥</button>
              <button id="btn-delete" class="btn btn-ghost" title="ç¾åœ¨ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å‰Šé™¤">ğŸ—‘ ç¾åœ¨ã‚’å‰Šé™¤</button>
              <button id="btn-export" class="btn btn-ghost">â¬‡ï¸ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
              <input id="import-file" type="file" accept="application/json" hidden>
              <button id="btn-import" class="btn btn-ghost">â¬†ï¸ ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
            </div>
          </div>

          <div class="list" id="list">
            <table>
              <thead>
                <tr><th style="width:48px">#</th><th>ãƒ•ãƒ¬ãƒ¼ã‚º</th></tr>
              </thead>
              <tbody id="tbody"></tbody>
            </table>
          </div>
        </aside>
      </div>

      <div class="footer">
        <div>
          <span class="badge">ãƒ•ãƒ¬ãƒ¼ã‚º: <span id="count">0</span> ä»¶</span>
          <span class="badge">ä½ç½®: <span id="pos">-</span></span>
        </div>
        <div>
          <span class="badge">Web Speech API / IndexedDB</span>
        </div>
      </div>

      <div class="start-overlay" id="gate" hidden>
        <div class="panel">
          <h2>ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§é–‹å§‹</h2>
          <p>ãƒ–ãƒ©ã‚¦ã‚¶ã®åˆ¶é™ã«ã‚ˆã‚Šã€éŸ³å£°å†ç”Ÿã«ã¯æ“ä½œãŒå¿…è¦ã§ã™ã€‚</p>
          <button id="btn-gate" class="btn">â–¶ï¸ ã¯ã˜ã‚ã‚‹</button>
        </div>
      </div>
    </div>
  </div>

<script>
// ===== Utility: IndexedDB minimal helper =====
const DB_NAME = 'pep_talk_db';
const DB_VER = 1;
const STORES = { state: 'state', phrases: 'phrases' };

function openDB(){
  return new Promise((resolve, reject)=>{
    const req = indexedDB.open(DB_NAME, DB_VER);
    req.onupgradeneeded = () => {
      const db = req.result;
      if(!db.objectStoreNames.contains(STORES.state)){
        db.createObjectStore(STORES.state, { keyPath: 'key' });
      }
      if(!db.objectStoreNames.contains(STORES.phrases)){
        db.createObjectStore(STORES.phrases, { keyPath: 'id', autoIncrement: true });
      }
    };
    req.onsuccess = () => resolve(req.result);
    req.onerror = () => reject(req.error);
  });
}
function tx(db, store, mode='readonly'){ return db.transaction(store, mode).objectStore(store); }
function saveState(db, key, value){
  return new Promise((resolve,reject)=>{
    const store = tx(db, STORES.state, 'readwrite');
    const req = store.put({ key, value, updatedAt: Date.now() });
    req.onsuccess = ()=> resolve();
    req.onerror = ()=> reject(req.error);
  });
}
function getState(db, key){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.state).get(key);
    req.onsuccess = ()=> resolve(req.result?.value);
    req.onerror = ()=> reject(req.error);
  });
}
function addPhrase(db, text){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases, 'readwrite').add({ text: text.trim() });
    req.onsuccess = ()=> resolve(req.result);
    req.onerror = ()=> reject(req.error);
  });
}
function deletePhrase(db, id){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases, 'readwrite').delete(id);
    req.onsuccess = ()=> resolve();
    req.onerror = ()=> reject(req.error);
  });
}
function getAllPhrases(db){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases).getAll();
    req.onsuccess = ()=> resolve(req.result || []);
    req.onerror = ()=> reject(req.error);
  });
}
function clearPhrases(db){
  return new Promise((resolve,reject)=>{
    const req = tx(db, STORES.phrases,'readwrite').clear();
    req.onsuccess = ()=> resolve();
    req.onerror = ()=> reject(req.error);
  });
}

// ===== Default phrases (å¤šã‚) =====
const DEFAULTS = [
  "ç„¦ã‚‰ãªãã¦ã„ã„ã€‚ä»Šæ—¥ã¯â€œã§ããŸâ€ã‚’æ•°ãˆã‚ˆã†ã€‚",
  "å®Œç’§ã‚ˆã‚Šå‰é€²ã€‚å°ã•ãé€²ã‚ã°ååˆ†ã ã‚ˆã€‚",
  "æ·±å‘¼å¸ã€‚ã„ã¾ã®ä¸€å‘¼å¸ãŒæ˜æ—¥ã‚’å¤‰ãˆã‚‹ã€‚",
  "ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã€‚",
  "å¤±æ•—ã¯ãƒ‡ãƒ¼ã‚¿ã€‚ä¾¡å€¤ã‚ã‚‹ä¸€æ­©ã ã€‚",
  "æ˜¨æ—¥ã®è‡ªåˆ†ã‚’1%ã ã‘è¿½ã„è¶Šãã†ã€‚",
  "è¿·ã£ã¦ã‚‹ã£ã¦ã“ã¨ã¯ã€é€²ã‚“ã§ã‚‹è¨¼æ‹ ã€‚",
  "ã§ããªã„æ—¥ãŒã‚ã£ã¦ã‚‚ã€ã‚ãªãŸã¯æœ‰èƒ½ã ã€‚",
  "å„ªã—ã•ã¯å¼·ã•ã€‚ã¾ãšè‡ªåˆ†ã«å„ªã—ãã€‚",
  "ç¶šã‘ãŸäººãŒå‹ã¤ã€‚ã‚ãªãŸã¯ç¶šã‘ã‚‰ã‚Œã‚‹ã€‚",
  "å°ã•ãªå‹åˆ©ã¯ç©ã¿ä¸ŠãŒã£ã¦å±±ã«ãªã‚‹ã€‚",
  "ä¸€åº¦ã«å…¨éƒ¨ã‚„ã‚‰ãªãã¦ã„ã„ã€‚",
  "5åˆ†ã ã‘ã‚„ã£ã¦ã¿ã‚ˆã†ã€‚",
  "ã†ã¾ãã„ã‹ãªã„ï¼Ÿ å­¦ã³ãŒå¢—ãˆãŸã­ã€‚",
  "æ¯”ã¹ã‚‹ç›¸æ‰‹ã¯ã€æ˜¨æ—¥ã®è‡ªåˆ†ã€‚",
  "æ­¢ã¾ã£ã¦ã‚‚ã„ã„ã€‚å‘ãã ã‘ä¿ã¦ã°å‰é€²ã ã€‚",
  "ã‚ãªãŸã®åŠªåŠ›ã¯è¦‹ãˆãªã„ã¨ã“ã‚ã§åŠ¹ã„ã¦ã„ã‚‹ã€‚",
  "ä»Šæ—¥ã®ã‚ãªãŸã«ã€æ‹æ‰‹ã€‚",
  "æ°—åˆã„ã‚ˆã‚Šä»•çµ„ã¿ã€‚ä»•çµ„ã¿ã¯ã‚ãªãŸã®å‘³æ–¹ã€‚",
  "çœ ã‚Œã¦ã„ã‚Œã°ã€åŠåˆ†å‹ã£ã¦ã‚‹ã€‚",
  "ç©ã¿é‡ã­ã¯å˜˜ã‚’ã¤ã‹ãªã„ã€‚",
  "â€œã¾ãšã‚„ã‚‹â€ã¯æœ€å¼·ã®é­”æ³•ã€‚",
  "èª¿å­ãŒå‡ºãªã„æ—¥ã‚‚ã€ã‚ãªãŸã¯ä¾¡å€¤ãŒã‚ã‚‹ã€‚",
  "ã‚†ã£ãã‚Šã§ã‚‚ã€è¾ã‚ãªã‘ã‚Œã°åˆ°ç€ã™ã‚‹ã€‚",
  "ã²ã¨ã¤ãšã¤ã€æ·¡ã€…ã¨ã€‚",
  "æ‚©ã‚€ã‚ˆã‚Šã€5åˆ†ã®è©¦ä½œã€‚",
  "æœªæ¥ã®è‡ªåˆ†ãŒã€ã„ã¾ã®ã‚ãªãŸã«æ„Ÿè¬ã™ã‚‹ã€‚",
  "æœŸå¾…ã§ã¯ãªãã€ç¿’æ…£ã«é ¼ã‚ã†ã€‚",
  "ååˆ†ã‚„ã‚Œã¦ã‚‹ã€‚å¤§ä¸ˆå¤«ã€‚",
  "æ°—æŒã¡ãŒä¹—ã‚‰ãªã„ï¼Ÿ ã¾ãšæœºã«åº§ã‚ã†ã€‚",
  "â€œã¾ãŸæ˜æ—¥â€ã˜ã‚ƒãªãâ€œã„ã¾1åˆ†â€ã€‚",
  "å°ã•ãªYesã‚’é‡ã­ã¦ã„ã“ã†ã€‚",
  "ã§ãã‚‹ã¨ã“ã‚ã¾ã§ã§OKã€‚",
  "å®Œäº†ã¯æ­£ç¾©ã€‚",
  "ã†ã¾ãã„ã‹ãªãã¦ã‚‚ã€ã‚ãªãŸã®ä¾¡å€¤ã¯ä¸‹ãŒã‚‰ãªã„ã€‚",
  "é€”ä¸­ã§ã‚‚ã€ãˆã‚‰ã„ã€‚",
  "ä¸€æ­©å‹•ã‘ã°ã€æ™¯è‰²ãŒå¤‰ã‚ã‚‹ã€‚",
  "ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ãŒæœ€é€Ÿãƒ«ãƒ¼ãƒˆã€‚",
  "ã‚³ãƒ„ã‚³ãƒ„ãŒã€çµå±€ã„ã¡ã°ã‚“é€Ÿã„ã€‚",
  "â€œã‚„ã‚‹ã“ã¨ã‚’å°ã•ãâ€ãŒã‚³ãƒ„ã€‚",
  "ãƒŸã‚¹ã¯æ›´æ–°ã€‚è‡ªåˆ†ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€‚",
  "å‰ã«é€²ã‚€ã‚ãªãŸã‚’ã€ç§ã¯ä¿¡ã˜ã¦ã‚‹ã€‚",
  "è¦ã‚‰ãªã„å®Œç’§ã€æ¨ã¦ã¦è»½ãã€‚",
  "10åˆ†ã§ã§ãã‚‹ã“ã¨ã‚’ã€10åˆ†ã§ã€‚",
  "ä»Šæ—¥ã®æœ€å„ªå…ˆã¯1ã¤ã§ã„ã„ã€‚",
  "ã‚¹ã‚¿ãƒ¼ãƒˆã«ä¾¡å€¤ãŒã‚ã‚‹ã€‚",
  "ã ã„ã˜ã‚‡ã†ã¶ã€è‚©ã®åŠ›ã‚’æŠœã„ã¦ã€‚",
  "è»¢ã‚“ã ã‚‰ã€è»¢ã³æ–¹ã‚’å­¦ã¹ãŸã€‚",
  "ç¡çœ ãƒ»æ „é¤Šãƒ»å…‰ã€‚ã¾ãšåœŸå°ã‚’æ•´ãˆã‚ˆã†ã€‚",
  "ã‚ãªãŸã¯ä¸€äººã˜ã‚ƒãªã„ã€‚",
  "é…ã„é€²æ—ã¯ã€é€²æ—ã ã€‚",
  "ã§ããŸã“ã¨ã‚’æ›¸ãå‡ºã—ã¦ã¿ã‚ˆã†ã€‚",
  "1mmã§ã‚‚ã€çŸ¢å°ã‚’å‰ã«ã€‚",
  "æ°—ãŒæ•£ã‚‹ã®ã¯æ™®é€šã€‚æˆ»ã‚ŒãŸã‚‰OKã€‚",
  "â€œã‚„ã‚‹æ°—â€ã¯ã€ã‚„ã‚‹ã¨å‡ºã‚‹ã€‚",
  "ä»Šæ—¥ã¯ã“ã“ã¾ã§ã€‚ã‚ˆãã‚„ã£ãŸã­ã€‚",
  "æŒ‘æˆ¦ã—ã¦ã‚‹ã ã‘ã§å‰ã„ã€‚",
  "ã“ã®ç¬é–“ã‚’ä¸å¯§ã«ã€‚",
  "å„ªå…ˆé †ä½ã¯â€œå¿ƒãŒè»½ããªã‚‹é †â€ã€‚",
  "è¿·ã£ãŸã‚‰ã€ç°¡å˜ãªæ–¹ã‹ã‚‰ã€‚",
  "ã‚„ã•ã—ãé€²ã‚ã€‚å¼·ããªã‚Œã‚‹ã€‚",
  "æœä¸€ã®ä¸€æ‰‹ãŒæµã‚Œã‚’ã¤ãã‚‹ã€‚",
  "èª°ã‹ã®ãƒšãƒ¼ã‚¹ã«åˆã‚ã›ãªãã¦ã„ã„ã€‚",
  "åˆæ ¼ç‚¹ã§æå‡ºã—ã‚ˆã†ã€‚100ç‚¹ã¯è¦ã‚‰ãªã„ã€‚",
  "â€œä»Šã“ã“â€ã‚’å¤§åˆ‡ã«ã€‚",
  "ä¸€æ­©é€²ã‚“ã è‡ªåˆ†ã«ã€ã‚°ãƒƒã‚¸ãƒ§ãƒ–ã€‚",
  "ä»Šæ—¥ã®ã‚ãªãŸã¯ã€ä»Šæ—¥ã—ã‹ã„ãªã„ã€‚",
  "å‹‡æ°—ã¯é™ã‹ã€‚é»™ã£ã¦ç¶šã‘ã‚‹ã“ã¨ã€‚",
  "è¦‹ãŸç›®ã‚ˆã‚Šä¸­èº«ã€‚ä¸­èº«ã¯ç©ã¿ä¸ŠãŒã‚‹ã€‚",
  "ä½•åº¦ã§ã‚‚ã‚„ã‚Šç›´ã›ã‚‹ã€‚",
  "çµæœã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ããªã„ã€‚è¡Œå‹•ã¯ã§ãã‚‹ã€‚",
  "ã§ããªã„æ—¥ã¯â€œä¼‘ã‚€å‹‡æ°—â€ã€‚",
  "çŸ­ãåƒãã€é•·ãç”Ÿãã‚‹ã€‚",
  "å¿ƒé…ã®8å‰²ã¯èµ·ããªã„ã€‚",
  "ã‚ãªãŸã®â€œå¥½ãâ€ã¯ã‚¨ãƒ³ã‚¸ãƒ³ã ã€‚",
  "ç›¸è«‡ã—ã¦ã„ã„ã€‚ç”˜ãˆã¦ã„ã„ã€‚",
  "ä¸å®‰ã¯ç´™ã«å‡ºã™ã¨å°ã•ããªã‚‹ã€‚",
  "ä»Šæ—¥ã®æœ€å°ã‚¿ã‚¹ã‚¯ã¯ä½•ï¼Ÿ",
  "è‡ªåˆ†ã«ã‚„ã•ã—ãã€äººã«ã‚„ã•ã—ãã€‚",
  "æœªæ¥ã¯â€œã„ã¾â€ã®ç·å’Œã€‚",
  "æ˜æ—¥ã§ã¯ãªãã€ã„ã¾5åˆ†ã€‚",
  "ã§ãã¦ã‚‹ã‚ˆã€‚ã»ã‚“ã¨ã«ã€‚",
  "æ®µå–ã‚ŠãŒ9å‰²ã€‚",
  "ä¸å¯§ã«æ–­ã£ã¦ã€é›†ä¸­ã‚’å®ˆã‚ã†ã€‚",
  "ã‚ãªãŸã®ä¾¡å€¤ã¯æˆæœã§æ±ºã¾ã‚‰ãªã„ã€‚",
  "ç–²ã‚ŒãŸã‚‰ã€ä¼‘ã‚€ã€‚ç«‹æ´¾ãªä»•äº‹ã ã€‚",
  "ååˆ†é ‘å¼µã£ãŸã€‚ã™ã“ã—ä¼‘ã‚‚ã†ã€‚",
  "ç·Šå¼µã¯ã€æº–å‚™ã®åˆå›³ã€‚",
  "ç¬‘é¡”ã¯ã‚¹ã‚­ãƒ«ã€‚ç·´ç¿’ã™ã‚Œã°å¢—ãˆã‚‹ã€‚",
  "ã‚„ã‚Šåˆ‡ã‚Œãªã‹ã£ãŸï¼Ÿ ãã‚Œã§ã‚‚å‰é€²ã€‚",
  "â€œã‚ã‚ŠãŒã¨ã†â€ã¯è‡ªåˆ†ã‚‚å…ƒæ°—ã«ã™ã‚‹ã€‚",
  "å‹‡æ°—ã¯å°åˆ†ã‘ã«ã—ã¦æŒã¡æ­©ã“ã†ã€‚",
  "å¤‰ã‚ã‚‰ãªã„æ—¥ã€…ãŒã€ã‚ãªãŸã‚’å¼·ãã™ã‚‹ã€‚",
  "ã„ã¤ã§ã‚‚ã‚„ã‚Šç›´ã›ã‚‹å ´æ‰€ãŒã‚ã‚‹ã€‚",
  "ã‚„ã•ã—ã•ã¯å¾ªç’°ã™ã‚‹ã€‚",
  "ã‚ãªãŸã®æ­©å¹…ã§ã€ç€å®Ÿã«ã€‚",
  "ã§ãã‚‹ãƒ»ã§ããªã„ã‚ˆã‚Šã€ã‚„ã‚‹ãƒ»ã‚„ã‚‰ãªã„ã€‚",
  "è‡ªåˆ†ã‚’è²¬ã‚ãªã„ã€‚å·¥å¤«ã‚’å¢—ã‚„ãã†ã€‚",
  "æ•°å­—ã¯é…ã‚Œã¦ã¤ã„ã¦ãã‚‹ã€‚",
  "ä»Šæ—¥ã®â€œã§ããŸâ€ã‚’3ã¤è¦‹ã¤ã‘ã‚ˆã†ã€‚",
  "ã¡ã‚‡ã£ã¨èƒŒç­‹ã‚’ä¼¸ã°ã—ã¦ã€‚å‘¼å¸ã‹ã‚‰æ•´ãˆã‚ˆã†ã€‚",
  "å°ã•ãªæœŸå¾…ã€å°ã•ãªé”æˆã€‚ç©ã¿æœ¨ã®ã‚ˆã†ã«ã€‚",
  "åŠªåŠ›ã¯é™ã‹ã«åŠ¹ã„ã¦ã„ã‚‹ã€‚",
  "ã‚ãªãŸã¯ã¡ã‚ƒã‚“ã¨å¼·ã„ã€‚",
  "ä»Šæ—¥ã‚‚ç”Ÿãå»¶ã³ãŸã€‚ãã‚Œã ã‘ã§å‰ã„ã€‚",
  "ãŸã®ã—ã‚€å·¥å¤«ã‚’ã€ã²ã¨ã¤ã€‚",
  "æ™‚é–“ãŒãªã„ï¼Ÿ ã‚¿ã‚¹ã‚¯ã‚’å°ã•ãã€‚",
  "ãã®å„ªã—ã•ãŒã€é ãã¾ã§å±Šãã€‚",
  "å¿ƒé…äº‹ã¯ã€ç´™ã«åˆ†è§£ã€‚",
  "ã‚„ã‚‹å‰ãŒã„ã¡ã°ã‚“æ€–ã„ã€‚ã‚„ã‚‹ã¨æ¥½ã€‚",
  "ç¿’æ…£ã¯ã‚ãªãŸã‚’è£åˆ‡ã‚‰ãªã„ã€‚",
  "ä¼‘ã‚€ã“ã¨ã‚‚å‰é€²ã€‚",
  "ç„¦ã‚Šã¯ç‡ƒæ–™ã€‚ä¸å¯§ã«ä½¿ãŠã†ã€‚",
  "ã‚ãªãŸã®é¸ã‚“ã é“ã‚’ã€æ­£è§£ã«ã—ã¦ã„ã“ã†ã€‚",
  "ä»Šæ—¥ã®ã‚ãªãŸã«ã€ã‚ã‚ŠãŒã¨ã†ã€‚",
  "é™ã‹ãªé›†ä¸­ã¯ã€æœ€å¼·ã®æ­¦å™¨ã€‚",
  "ã‚¿ã‚¹ã‚¯ã¯3ã¤ã§ååˆ†ã€‚",
  "ã§ããªã„ã¯ã€ã¾ã ã®åˆå›³ã€‚",
  "æ€ã„åˆ‡ã£ã¦â€œã‚„ã‚ã‚‹â€ã‚‚æˆ¦ç•¥ã€‚",
  "ã‚ãªãŸã®ç‰©èªã¯ã€ã“ã‚Œã‹ã‚‰ã‚‚ã£ã¨è‰¯ããªã‚‹ã€‚",
  "å¤§åˆ‡ãªã®ã¯ã€ç¶šã‘ã‚‹å·¥å¤«ã€‚",
  "ã†ã¾ãã„ã£ã¦ã‚‹ã¨ã“ã‚ã«å…‰ã‚’å½“ã¦ã‚ˆã†ã€‚",
  "èƒŒä¸­ã‚’æŠ¼ã™ã®ã¯ã€ã„ã¤ã‚‚å°ã•ãªä¸€æ­©ã€‚",
  "ä»Šæ—¥ã®è‡ªåˆ†ã‚’è‚¯å®šã—ã‚ˆã†ã€‚",
  "ãŒã‚“ã°ã‚Šæ–¹ã‚’ã€ã‚„ã•ã—ããƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã€‚",
  "çœ ã‚‹å‰ã«â€œã§ããŸâ€ã‚’æ€ã„å‡ºãã†ã€‚",
  "å¥½ãã¯æœ€å¼·ã®é›†ä¸­ã‚’ãã‚Œã‚‹ã€‚",
  "æŒ‘æˆ¦ã¯æ€–ã„ã€‚ã§ã‚‚ã€æˆé•·ã¯ãã®å…ˆã«ã‚ã‚‹ã€‚",
  "ã‚ãªãŸã®å‘³æ–¹ã¯ã€ã“ã“ã«ã„ã‚‹ã€‚",
  "ã†ã¾ãã„ã‹ãªã„æ—¥ã¯ã€æ˜æ—¥ã®ãŸã‚ã®ä»•è¾¼ã¿æ—¥ã€‚",
  "ä»Šæ—¥ã®ä¸€æ­©ã‚’ã€æœªæ¥ã®è‡ªåˆ†ã«ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã€‚",
  "èª°ã‹ã®æœŸå¾…ã‚ˆã‚Šã€è‡ªåˆ†ã®ç´å¾—ã€‚",
  "è‡ªåˆ†ã«OKã‚’å‡ºã™ã®ã¯ã€è‡ªåˆ†ã€‚",
  "æ‰‹æ”¾ã—ãŸåˆ†ã ã‘ã€è»½ããªã‚‹ã€‚",
  "ã§ãã‚‹ç†ç”±ã‚’é›†ã‚ã‚ˆã†ã€‚",
  "ä»Šæ—¥ã®ã‚ãªãŸã¯ã€ã¡ã‚ƒã‚“ã¨ç´ æ•µã€‚",
  "ä»Šæ—¥ã®å°ã•ãªåŠªåŠ›ãŒã€æ˜æ—¥ã®ã‚ãªãŸã‚’åŠ©ã‘ã‚‹ã€‚",
  "é ‘å¼µã‚Šã™ããªã„å‹‡æ°—ã‚‚ã€å¤§åˆ‡ãªåŠ›ã€‚",
  "ä¸€å‘¼å¸ãŠã„ã¦ã€ç¬‘é¡”ã‚’å–ã‚Šæˆ»ãã†ã€‚",
  "ç›®ã®å‰ã®ä¸€æ­©ã‚’è¸ã¿å‡ºã™ã ã‘ã§ååˆ†ã€‚",
  "ä»Šã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã€ç„¦ã‚‰ãªãã¦ã„ã„ã‚ˆã€‚",
  "å°ã•ãªé€²æ­©ã‚‚ã€ç©ã¿é‡ã­ã‚Œã°å¥‡è·¡ã«ãªã‚‹ã€‚",
  "ã‚ãªãŸã®å„ªã—ã•ã¯èª°ã‹ã‚’æ•‘ã£ã¦ã„ã‚‹ã€‚",
  "å¿ƒãŒç–²ã‚ŒãŸã‚‰ã€ç©ºã‚’è¦‹ä¸Šã’ã¦ã¿ã‚ˆã†ã€‚",
  "å®Œç’§ã˜ã‚ƒãªãã¦ã‚‚ã€ã‚ãªãŸã®åŠªåŠ›ã¯æœ¬ç‰©ã ã€‚",
  "ãŸã¨ãˆé…ãã¦ã‚‚ã€ã‚„ã‚ãªã„ã“ã¨ãŒåŠ›ã«ãªã‚‹ã€‚",
  "é€²ã¾ãªã„æ—¥ã‚‚ã€ç«‹ã¡æ­¢ã¾ã‚‹æ—¥ã‚‚ã€å¿…è¦ãªæ™‚é–“ã ã€‚",
  "å°ã•ãªç¬‘é¡”ãŒã€ä¸€æ—¥ã‚’å¤‰ãˆã‚‹ãã£ã‹ã‘ã«ãªã‚‹ã€‚",
  "ã‚ãªãŸã®é ‘å¼µã‚Šã¯ã€èª°ã‹ã®å¸Œæœ›ã«ãªã£ã¦ã„ã‚‹ã€‚",
  "ä¸€æ­©ãšã¤ã§ã„ã„ã€ãã®ä¸€æ­©ã«æ„å‘³ãŒã‚ã‚‹ã€‚",
  "ç„¡ç†ã‚’ã—ãªã„é¸æŠã‚‚ã€å¼·ã•ã®è¨¼ã ã‚ˆã€‚",
  "é›¨ã®æ—¥ã‚‚é¢¨ã®æ—¥ã‚‚ã€ã‚ãªãŸã¯ã¡ã‚ƒã‚“ã¨å‰ã«é€²ã‚“ã§ã‚‹ã€‚",
  "å¤±æ•—ã¯æˆåŠŸã®æº–å‚™é‹å‹•ã€‚",
  "ä»Šæ—¥ã‚’ç”ŸãæŠœã„ãŸã‚ãªãŸã¯ç«‹æ´¾ã§ã™ã€‚",
  "ã†ã¾ãã„ã‹ãªã„æ—¥ã‚‚ã€å¿ƒãŒæŠ˜ã‚Œãªã„ã‚ãªãŸã¯å¼·ã„ã€‚",
  "æ˜¨æ—¥ã‚ˆã‚Šä»Šæ—¥ã€ä»Šæ—¥ã‚ˆã‚Šæ˜æ—¥ã€‚å°‘ã—ãšã¤ã§ã„ã„ã€‚",
  "ç–²ã‚ŒãŸã¨ãã¯ã€ä¼‘ã‚€ã“ã¨ã‚‚å‰é€²ã€‚",
  "é ‘å¼µã‚Šã¯è¦‹ãˆãªãã¦ã‚‚ã€å¿…ãšç©ã¿é‡ãªã£ã¦ã‚‹ã€‚",
  "åŠªåŠ›ã—ã¦ã‚‹ã‚ãªãŸã‚’ã€ã¡ã‚ƒã‚“ã¨è‡ªåˆ†ã§è¤’ã‚ã‚ˆã†ã€‚",
  "è¿·ã†æ™‚é–“ã‚‚ã€è€ƒãˆã‚‹åŠ›ã‚’è‚²ã¦ã¦ã„ã‚‹ã€‚",
  "ç„¦ã‚‰ãšã€æ¯”ã¹ãšã€è‡ªåˆ†ã®é“ã‚’ä¿¡ã˜ã¦é€²ã‚‚ã†ã€‚",
  "å¿ƒé…ã—ã™ããªã„ã§ã€ã‚ãªãŸã¯å¤§ä¸ˆå¤«ã€‚",
  "ä¸€æ­©é€²ã‚ã°ã€æ–°ã—ã„æ™¯è‰²ãŒè¦‹ãˆã‚‹ã€‚",
  "ä»Šæ—¥ã‚‚ã‚ãªãŸã¯ã€ã‚ˆãé ‘å¼µã£ã¦ã‚‹ã‚ˆã€‚",
  "ç«‹ã¡æ­¢ã¾ã‚‹ã®ã¯æ‚ªã„ã“ã¨ã˜ã‚ƒãªã„ã€‚æ¯ç¶™ãã ã‚ˆã€‚",
  "å„ªã—ã„è¨€è‘‰ã¯ã€è‡ªåˆ†ã«ã‚‚ã‹ã‘ã¦ã‚ã’ã¦ã­ã€‚",
  "ä½•ã‚‚ã§ããªã„æ—¥ãŒã‚ã£ã¦ã‚‚ã€ã‚ãªãŸã®ä¾¡å€¤ã¯å¤‰ã‚ã‚‰ãªã„ã€‚",
  "ã§ãã‚‹ã“ã¨ã‚’ã€ã§ãã‚‹åˆ†ã ã‘ã§ã„ã„ã‚“ã ã‚ˆã€‚",
  "å°ã•ãªæˆåŠŸã‚’è¦‹é€ƒã•ãªã„ã§ã€ãã‚ŒãŒåŠ›ã«ãªã‚‹ã€‚",
  "ã‚ãªãŸã®åŠªåŠ›ã¯å¿…ãšå ±ã‚ã‚Œã‚‹ç¬é–“ãŒæ¥ã‚‹ã€‚",
  "éå»ã‚’è²¬ã‚ãšã€ä»Šã®è‡ªåˆ†ã‚’ä¿¡ã˜ã¦ã‚ã’ã‚ˆã†ã€‚",
  "æ›‡ã‚Šç©ºã®æ—¥ã§ã‚‚ã€å¤ªé™½ã¯ã¡ã‚ƒã‚“ã¨ãã“ã«ã‚ã‚‹ã€‚",
  "æ€ã„ã‚„ã‚Šã‚’å¿˜ã‚Œãªã„ã‚ãªãŸã¯ã€ã¨ã¦ã‚‚ç´ æ•µã€‚",
  "ä»Šæ—¥ã§ããªã‹ã£ãŸã“ã¨ã¯ã€æ˜æ—¥ã‚„ã‚Œã°ã„ã„ã€‚",
  "çµæœã‚ˆã‚Šã‚‚ã€æŒ‘æˆ¦ã§ããŸã“ã¨ãŒä¾¡å€¤ã€‚",
  "å¿ƒãŒæºã‚Œã‚‹ã¨ãã¯ã€æˆé•·ã—ã¦ã„ã‚‹è¨¼æ‹ ã ã‚ˆã€‚",
  "å°‘ã—ãšã¤ã§ã‚‚ã€è‡ªåˆ†ã‚’å¥½ãã«ãªã£ã¦ã„ã“ã†ã€‚",
  "ã©ã‚“ãªæ—¥ã§ã‚‚ã€ã‚ãªãŸã«ã¯ç¬‘é¡”ãŒä¼¼åˆã†ã€‚",
  "èª°ã‹ã®ãŸã‚ã«é ‘å¼µã‚Œã‚‹ã‚ãªãŸã¯ã€ã‚‚ã†å„ªã—ã„äººã ã€‚",
  "ã‚†ã£ãã‚Šã§ã‚‚ç¢ºå®Ÿã«ã€å‰ã¸é€²ã‚ã¦ã„ã‚‹ã‚ˆã€‚",
  "ä»Šæ—¥ã®åŠªåŠ›ã¯ã€æœªæ¥ã®ã‚ãªãŸã®ç¬‘é¡”ã«å¤‰ã‚ã‚‹ã€‚",
  "æ‚©ã‚€ã®ã¯çœŸå‰£ã«ç”Ÿãã¦ã„ã‚‹è¨¼æ‹ ã€‚",
  "ä¼‘ã‚“ã§ã‚‚ã„ã„ã€‚è«¦ã‚ãªã‘ã‚Œã°é€²ã‚“ã§ã‚‹ã€‚",
  "ä»–äººã¨é•ã†é“ã§ã‚‚ã€ãã‚ŒãŒã‚ãªãŸã®é“ã ã‚ˆã€‚",
  "ä»Šã“ã“ã«ã„ã‚‹ã€ãã‚Œã ã‘ã§ååˆ†ä¾¡å€¤ãŒã‚ã‚‹ã€‚",
  "èª°ã‹ã®æœŸå¾…ã˜ã‚ƒãªãã€è‡ªåˆ†ã®ç´å¾—ã‚’å¤§äº‹ã«ã—ã¦ã€‚",
  "å°ã•ãªå„ªã—ã•ãŒã€å¤§ããªå¹¸ã›ã‚’å‘¼ã¶ã€‚",
  "ã‚ãªãŸãŒæ­©ãé€Ÿåº¦ã§ã€äººç”Ÿã¯ã¡ã‚ƒã‚“ã¨é€²ã‚€ã€‚",
  "é ‘å¼µã‚‰ãªãã¦ã‚‚ã€ã‚ãªãŸã¯ä¾¡å€¤ã®ã‚ã‚‹å­˜åœ¨ã€‚",
  "ä»Šæ—¥ã¯ãƒªã‚»ãƒƒãƒˆã—ã¦ã‚‚ã„ã„æ—¥ã ã‚ˆã€‚",
  "å¤±æ•—ã—ã¦ã‚‚ã€ãã‚Œã¯å­¦ã³ã«å¤‰ã‚ã‚‹ã‹ã‚‰å¤§ä¸ˆå¤«ã€‚",
  "å¿ƒã®å£°ã‚’èãæ™‚é–“ã‚’å¤§äº‹ã«ã—ã‚ˆã†ã€‚",
  "èª°ã‹ã‚’åŠ±ã¾ã™å‰ã«ã€è‡ªåˆ†ã‚’åŠ±ã¾ã—ã¦ã‚ã’ã¦ã€‚",
  "æ˜¨æ—¥ã®æ¶™ã¯ã€æ˜æ—¥ã®ç¬‘é¡”ã®æº–å‚™ã€‚",
  "ã‚ãªãŸã®å­˜åœ¨ãŒã€èª°ã‹ã®å‹‡æ°—ã«ãªã£ã¦ã„ã‚‹ã€‚",
  "ç–²ã‚ŒãŸã¨ãã¯ã€å°‘ã—ç«‹ã¡æ­¢ã¾ã£ã¦ç©ºã‚’è¦‹ã‚ˆã†ã€‚",
  "å„ªã—ã„å¿ƒã‚’æŒã¤ã‚ãªãŸã¯ã€ãã‚Œã ã‘ã§å¼·ã„ã€‚",
  "æ€ã„åˆ‡ã£ã¦ä¼‘ã‚€ã®ã‚‚ã€ç”Ÿç”£çš„ãªé¸æŠã€‚",
  "å°ã•ãªä¸€æ­©ã‚’ç¬‘ã†äººã‚ˆã‚Šã€è¸ã¿å‡ºã—ãŸã‚ãªãŸãŒå‰ã„ã€‚",
  "å¿ƒã‚’æ•´ãˆã‚‹æ™‚é–“ã‚’æŒã¤ã ã‘ã§ã€ä¸–ç•Œã¯å°‘ã—å„ªã—ããªã‚‹ã€‚",
  "ä»Šæ—¥ã‚‚é ‘å¼µã£ãŸã­ã€‚æ˜æ—¥ã¯ãã£ã¨ã„ã„æ—¥ã«ãªã‚‹ã€‚",
  "ä¸å®‰ã‚’æŠ±ãˆãªãŒã‚‰ã‚‚é€²ã‚€ã€ãã‚ŒãŒæœ¬å½“ã®å‹‡æ°—ã€‚",
  "â€œã‚„ã£ã¦ã¿ã‚‹â€ãã®ä¸€è¨€ãŒã€äººç”Ÿã‚’å‹•ã‹ã™ã€‚",
  "ã©ã‚“ãªæ—¥ã‚‚ã€ã‚ãªãŸã¯ã¡ã‚ƒã‚“ã¨æˆé•·ã—ã¦ã„ã‚‹ã€‚",
  "çµæœãŒå‡ºãªãã¦ã‚‚ã€åŠªåŠ›ã—ãŸè‡ªåˆ†ã‚’èª‡ã‚ã†ã€‚",
  "é™ã‹ãªæ™‚é–“ãŒã€ã‚ãªãŸã‚’æ•´ãˆã¦ãã‚Œã‚‹ã€‚",
  "ç„¦ã‚Šã‚’æ‰‹æ”¾ã™ã¨ã€å¿ƒãŒè»½ããªã‚‹ã€‚",
  "é ‘å¼µã‚Šã™ããŸæ—¥ã¯ã€è‡ªåˆ†ã«ã”è¤’ç¾ã‚’ã‚ã’ã‚ˆã†ã€‚",
  "ç„¡ç†ã›ãšç¬‘ãˆã‚‹æ—¥ã‚’å¢—ã‚„ã—ã¦ã„ã“ã†ã€‚",
  "å®Œç’§ã˜ã‚ƒãªã„ä»ŠãŒã€ã„ã¡ã°ã‚“ç¾ã—ã„ã€‚",
  "ä¿¡ã˜ã‚‹æ°—æŒã¡ã¯ã€æœªæ¥ã‚’å¤‰ãˆã‚‹åŠ›ã«ãªã‚‹ã€‚",
  "ä»Šæ—¥ã‚‚ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã€‚",
  "åŠªåŠ›ã‚’ç¬‘ã†äººã¯ã€ã‚ãªãŸã®ä¾¡å€¤ã‚’çŸ¥ã‚‰ãªã„ã ã‘ã€‚",
  "å¿ƒã®ã¾ã¾ã«é€²ã‚ã°ã€ãã£ã¨é“ã¯ã²ã‚‰ã‘ã‚‹ã€‚",
  "ã‚ãªãŸã®é ‘å¼µã‚Šã¯ã€ã¡ã‚ƒã‚“ã¨èª°ã‹ãŒè¦‹ã¦ã„ã‚‹ã€‚",
  "å¤±æ•—ã‚‚æˆé•·ã®è¨¼ã€‚ã‚ãªãŸã¯å‰ã«é€²ã‚“ã§ã„ã‚‹ã€‚",
  "ã©ã‚“ãªå°ã•ãªæŒ‘æˆ¦ã‚‚ã€äººç”Ÿã®å®ç‰©ã«ãªã‚‹ã€‚",
  "å‹‡æ°—ã‚’å‡ºã™ç¬é–“ã«ã€æœªæ¥ãŒå¤‰ã‚ã‚‹ã€‚",
  "è‡ªåˆ†ã‚’ä¿¡ã˜ã‚‹ç·´ç¿’ã‚’ç¶šã‘ã‚ˆã†ã€‚",
  "ä»Šæ—¥ã‚‚ä¸€æ­©ã€æœªæ¥ã«è¿‘ã¥ã„ã¦ã„ã‚‹ã‚ˆã€‚",
  "ç¬‘é¡”ã¯ã€æœ€é«˜ã®è‡ªå·±è‚¯å®šã ã‚ˆã€‚",
  "å¿ƒãŒæŠ˜ã‚Œãã†ãªæ—¥ã“ãã€è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã—ã¦ã€‚",
  "å°ã•ãªé”æˆã‚’ç©ã¿é‡ã­ã‚Œã°ã€ã„ã¤ã‹å¤§ããªå¤¢ã«ãªã‚‹ã€‚",
  "é ‘å¼µã‚Œãªã„æ—¥ãŒã‚ã£ã¦ã‚‚ã€ãã‚Œã§ã„ã„ã€‚",
  "å¤±æ•—ã—ãŸæ•°ã ã‘ã€å¼·ãå„ªã—ããªã‚Œã‚‹ã€‚",
  "è«¦ã‚ãªã„é™ã‚Šã€è² ã‘ã˜ã‚ƒãªã„ã€‚",
  "ã‚ãªãŸã¯æƒ³åƒä»¥ä¸Šã«ã€é ‘å¼µã‚Œã¦ã‚‹ã‚ˆã€‚",
  "ç©ºã‚’è¦‹ä¸Šã’ã¦ã€æ·±å‘¼å¸ã€‚å°‘ã—ãšã¤é€²ã‚‚ã†ã€‚",
  "å¿ƒã®ä¸­ã«ã‚ã‚‹å„ªã—ã•ã‚’ã€å¤§åˆ‡ã«ã—ã¦ã­ã€‚",
  "ã§ããªã„ã“ã¨ã‚ˆã‚Šã€ã§ããŸã“ã¨ã‚’æ•°ãˆã‚ˆã†ã€‚",
  "ç«‹ã¡æ­¢ã¾ã‚‹ã“ã¨ã‚‚ã€äººç”Ÿã®ä¸€éƒ¨ã ã‚ˆã€‚",
  "ä»Šæ—¥ã¨ã„ã†æ—¥ã¯ã€ã‚‚ã†äºŒåº¦ã¨æ¥ãªã„ã€‚å¤§åˆ‡ã«ã—ã‚ˆã†ã€‚",
  "è‡ªåˆ†ã®ç¬‘é¡”ã‚’å–ã‚Šæˆ»ã™åŠªåŠ›ã¯ã€æœ€é«˜ã®å‹‡æ°—ã€‚",
  "ã©ã‚“ãªé“ã‚‚ã€ã‚ãªãŸã®æ­©ã¿ã§æ­£è§£ã«ãªã‚‹ã€‚"
];

// ===== App state =====
const el = (id) => document.getElementById(id);
const ui = {
  text: el('phrase-text'), rate: el('rate'), pitch: el('pitch'), volume: el('volume'),
  rateVal: el('rate-val'), pitchVal: el('pitch-val'), volVal: el('vol-val'),
  voiceSel: el('voice'),
  btnStart: el('btn-start'), btnPause: el('btn-pause'), btnNext: el('btn-next'), btnPrev: el('btn-prev'),
  btnLoop: el('btn-loop'), btnShuffle: el('btn-shuffle'),
  count: el('count'), pos: el('pos'), tbody: el('tbody'),
  gate: el('gate'), btnGate: el('btn-gate'),
  status: el('status-pill'), saveIndicator: el('save-indicator'),
  addTA: el('new-phrases'), btnAdd: el('btn-add'), btnReset: el('btn-reset'), btnDelete: el('btn-delete'),
  btnExport: el('btn-export'), btnImport: el('btn-import'), importFile: el('import-file')
};

let db, phrases = [], index = 0, voices = [], speaking = false;
const settings = { rate: 1, pitch: 1, volume: 1, voiceURI: null, loop: true, shuffle: false, startedOnce: false };

function setStatus(msg){ ui.status.textContent = msg; }
let saveTimeout; function markSaved(){ ui.saveIndicator.textContent = 'ä¿å­˜æ¸ˆã¿'; }
function markDirty(){ ui.saveIndicator.textContent = 'ä¿å­˜ä¸­â€¦'; clearTimeout(saveTimeout); saveTimeout = setTimeout(()=>ui.saveIndicator.textContent='ä¿å­˜æ¸ˆã¿', 500); }

function updateMeters(){ ui.rateVal.textContent = settings.rate.toFixed(2); ui.pitchVal.textContent = settings.pitch.toFixed(2); ui.volVal.textContent = settings.volume.toFixed(2); }
function updateToggles(){ ui.btnLoop.setAttribute('aria-pressed', String(settings.loop)); ui.btnShuffle.setAttribute('aria-pressed', String(settings.shuffle)); }
function updateCounters(){ ui.count.textContent = phrases.length; ui.pos.textContent = phrases.length ? `${index+1}/${phrases.length}` : '-'; }

function renderList(){
  ui.tbody.innerHTML = '';
  phrases.forEach((p,i)=>{
    const tr = document.createElement('tr');
    if(i===index) tr.classList.add('active');
    const n = document.createElement('td'); n.textContent = i+1; n.style.textAlign='right'; n.style.opacity=.7; n.style.width='48px';
    const t = document.createElement('td'); t.textContent = p.text; t.style.cursor='pointer'; t.title='ã‚¯ãƒªãƒƒã‚¯ã§ã‚¸ãƒ£ãƒ³ãƒ—';
    tr.appendChild(n); tr.appendChild(t); ui.tbody.appendChild(tr);
    tr.addEventListener('click', ()=>{ index = i; persistIndex(); showCurrent(); if(speaking) speakCurrent(true); });
  });
}

function showCurrent(){
  ui.text.classList.remove('fade'); void ui.text.offsetWidth; ui.text.classList.add('fade');
  const cur = phrases[index]; ui.text.textContent = cur ? cur.text : 'ãƒ•ãƒ¬ãƒ¼ã‚ºãŒã‚ã‚Šã¾ã›ã‚“';
  renderList(); updateCounters(); }

function nextIndex(){ if(!phrases.length) return 0; if(settings.shuffle){ return Math.floor(Math.random()*phrases.length); } return (index+1)%phrases.length; }
function prevIndex(){ if(!phrases.length) return 0; return (index-1+phrases.length)%phrases.length; }

function persistSettings(){ markDirty(); return saveState(db,'settings', {...settings}).then(markSaved); }
function persistIndex(){ markDirty(); return saveState(db,'currentIndex', index).then(markSaved); }

function populateVoices(){ voices = speechSynthesis.getVoices(); ui.voiceSel.innerHTML='';
  const opt0 = document.createElement('option'); opt0.value=''; opt0.textContent='ï¼ˆè‡ªå‹•é¸æŠï¼‰'; ui.voiceSel.appendChild(opt0);
  voices.forEach(v=>{
    const o = document.createElement('option'); o.value = v.voiceURI; o.textContent = `${v.name} / ${v.lang}`; ui.voiceSel.appendChild(o);
  });
  if(settings.voiceURI){ ui.voiceSel.value = settings.voiceURI; }
}

function getSelectedVoice(){ if(!settings.voiceURI) return null; return voices.find(v=>v.voiceURI===settings.voiceURI)||null; }

let currentUtterance = null;
function speakCurrent(force=false){
  if(!phrases.length) return;
  const text = phrases[index].text;
  if(!force && speechSynthesis.speaking){ try{ speechSynthesis.cancel(); }catch(e){} }
  const u = new SpeechSynthesisUtterance(text);
  u.rate = settings.rate; u.pitch = settings.pitch; u.volume = settings.volume;
  const v = getSelectedVoice(); if(v) u.voice = v;
  u.onstart = ()=>{ speaking = true; setStatus('å†ç”Ÿä¸­'); ui.btnStart.textContent='â¹ åœæ­¢'; };
  u.onend = ()=>{
    speaking = false; setStatus('å¾…æ©Ÿä¸­'); ui.btnStart.textContent='â–¶ï¸ å†ç”Ÿ';
    if(settings.loop){ index = nextIndex(); persistIndex(); showCurrent(); speakCurrent(true); }
  };
  u.onerror = ()=>{ speaking=false; setStatus('ã‚¨ãƒ©ãƒ¼'); };
  currentUtterance = u; speechSynthesis.speak(u);
}

function stopSpeak(){ if(speechSynthesis.speaking||speechSynthesis.pending){ speechSynthesis.cancel(); speaking=false; setStatus('åœæ­¢'); ui.btnStart.textContent='â–¶ï¸ å†ç”Ÿ'; } }
function pauseSpeak(){ if(speechSynthesis.speaking && !speechSynthesis.paused){ speechSynthesis.pause(); setStatus('ä¸€æ™‚åœæ­¢'); } }
function resumeSpeak(){ if(speechSynthesis.paused){ speechSynthesis.resume(); setStatus('å†ç”Ÿä¸­'); } }

// ===== Bootstrap =====
(async function init(){
  db = await openDB();
  // restore settings
  const saved = await getState(db,'settings'); if(saved){ Object.assign(settings, saved); }
  updateMeters(); updateToggles();
  ui.rate.value = settings.rate; ui.pitch.value = settings.pitch; ui.volume.value = settings.volume;

  // voices (may be async)
  populateVoices(); if(typeof speechSynthesis !== 'undefined'){ speechSynthesis.onvoiceschanged = populateVoices; }

  // phrases
  phrases = await getAllPhrases(db);
  if(!phrases.length){ // seed defaults
    for(const line of DEFAULTS){ await addPhrase(db, line); }
    phrases = await getAllPhrases(db);
  }
  const savedIndex = await getState(db,'currentIndex'); index = Number.isInteger(savedIndex) ? Math.min(Math.max(0,savedIndex), Math.max(0,phrases.length-1)) : 0;

  renderList(); showCurrent();
  updateCounters();

  // gate: try autoplay once, otherwise show overlay
  try{
    if(settings.startedOnce){
      const gateEl = document.getElementById('gate');
      if (gateEl) gateEl.remove(); // ä»¥å¾Œã¯DOMã‹ã‚‰é™¤å»ã—ã¦è¡¨ç¤ºã•ã‚Œãªã„ã‚ˆã†ã«
      speakCurrent(true);
    } else {
      document.getElementById('gate').hidden = false;
    }
  } catch(e) {
    document.getElementById('gate').hidden = false;
  }
})();

// ===== UI events =====
ui.btnGate.addEventListener('click', ()=>{
  // æŠ¼ä¸‹å¾Œã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è‡ªä½“ã‚’å‰Šé™¤ã—ã¦å†è¡¨ç¤ºã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹
  if (ui.gate && ui.gate.parentNode) ui.gate.parentNode.removeChild(ui.gate);
  settings.startedOnce = true;
  persistSettings();
  speakCurrent(true);
});
ui.btnStart.addEventListener('click', ()=>{
  if(speaking || speechSynthesis.speaking){ stopSpeak(); }
  else { settings.startedOnce = true; persistSettings(); speakCurrent(true); }
});
ui.btnPause.addEventListener('click', ()=>{ if(speechSynthesis.paused) resumeSpeak(); else pauseSpeak(); });
ui.btnNext.addEventListener('click', ()=>{ index = nextIndex(); persistIndex(); showCurrent(); if(settings.loop && speaking) speakCurrent(true); });
ui.btnPrev.addEventListener('click', ()=>{ index = prevIndex(); persistIndex(); showCurrent(); if(settings.loop && speaking) speakCurrent(true); });
ui.btnLoop.addEventListener('click', ()=>{ settings.loop = !settings.loop; updateToggles(); persistSettings(); });
ui.btnShuffle.addEventListener('click', ()=>{ settings.shuffle = !settings.shuffle; updateToggles(); persistSettings(); });

ui.rate.addEventListener('input', ()=>{ settings.rate = +ui.rate.value; updateMeters(); markDirty(); });
ui.rate.addEventListener('change', ()=>{ persistSettings(); if(speaking) speakCurrent(true); });
ui.pitch.addEventListener('input', ()=>{ settings.pitch = +ui.pitch.value; updateMeters(); markDirty(); });
ui.pitch.addEventListener('change', ()=>{ persistSettings(); if(speaking) speakCurrent(true); });
ui.volume.addEventListener('input', ()=>{ settings.volume = +ui.volume.value; updateMeters(); markDirty(); });
ui.volume.addEventListener('change', ()=>{ persistSettings(); if(speaking) speakCurrent(true); });

ui.voiceSel.addEventListener('change', ()=>{ settings.voiceURI = ui.voiceSel.value || null; persistSettings(); if(speaking) speakCurrent(true); });

ui.btnAdd.addEventListener('click', async ()=>{
  const lines = ui.addTA.value.split(/\n+/).map(s=>s.trim()).filter(Boolean);
  if(!lines.length) return;
  for(const line of lines){ await addPhrase(db, line); }
  ui.addTA.value=''; phrases = await getAllPhrases(db); renderList(); updateCounters(); markSaved();
});

ui.btnReset.addEventListener('click', async ()=>{
  if(!confirm('æ—¢å®šã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å†æŠ•å…¥ã—ã¾ã™ã€‚ç¾åœ¨ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã¯æ®‹ã‚Šã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) return;
  for(const line of DEFAULTS){ await addPhrase(db, line); }
  phrases = await getAllPhrases(db); renderList(); updateCounters(); markSaved();
});

ui.btnDelete.addEventListener('click', async ()=>{
  if(!phrases.length) return; const cur = phrases[index];
  if(!confirm('ã“ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\n\n'+cur.text)) return;
  await deletePhrase(db, cur.id);
  phrases = await getAllPhrases(db);
  if(index >= phrases.length) index = Math.max(0, phrases.length-1);
  persistIndex(); renderList(); showCurrent();
});

ui.btnExport.addEventListener('click', async ()=>{
  const payload = { settings, phrases, index };
  const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'pep_stream_export.json'; a.click();
  setTimeout(()=>URL.revokeObjectURL(url), 1000);
});
ui.btnImport.addEventListener('click', ()=> ui.importFile.click());
ui.importFile.addEventListener('change', async (e)=>{
  const file = e.target.files?.[0]; if(!file) return;
  const text = await file.text();
  try{
    const data = JSON.parse(text);
    if(Array.isArray(data.phrases)){
      await clearPhrases(db);
      for(const p of data.phrases){ await addPhrase(db, String(p.text||'').trim()); }
      phrases = await getAllPhrases(db);
    }
    if(typeof data.index === 'number'){ index = Math.min(Math.max(0,data.index), Math.max(0,phrases.length-1)); }
    if(data.settings && typeof data.settings==='object'){ Object.assign(settings, data.settings); await persistSettings(); }
    renderList(); showCurrent(); updateMeters(); updateToggles();
  }catch(err){ alert('ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: '+err.message); }
  ui.importFile.value='';
});

// ä¿å­˜ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿åˆæœŸçŠ¶æ…‹
markSaved();
</script>
</body>
</html>

